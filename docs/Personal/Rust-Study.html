<!DOCTYPE html>
<html lang="en"><head><title>Rust Study</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;family=IBM Plex Mono:wght@400;600&amp;display=swap"/><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="HyeongSeok Kim's Vault"/><meta property="og:title" content="Rust Study"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Rust Study"/><meta name="twitter:description" content="스터디 멤버 참조 [[#]] [[#]] [[#]] [[#]] [[#]] [[#]] [[#]] [[#]] [[#]] Toy Project 추가 자료 조사 - Smart Pointer 스터디 멤버 김태훈 김형석 유재상 참조 tourofrust.com/TOC_ko.html 1장 - 기초 Rust 놀이터 별도의 환경을 구성하지 않더라도, “Rust 놀이터”라고 하는 Web Service를 통해 기본적인 코드를 실행해볼 수 있다."/><meta property="og:description" content="스터디 멤버 참조 [[#]] [[#]] [[#]] [[#]] [[#]] [[#]] [[#]] [[#]] [[#]] Toy Project 추가 자료 조사 - Smart Pointer 스터디 멤버 김태훈 김형석 유재상 참조 tourofrust.com/TOC_ko.html 1장 - 기초 Rust 놀이터 별도의 환경을 구성하지 않더라도, “Rust 놀이터”라고 하는 Web Service를 통해 기본적인 코드를 실행해볼 수 있다."/><meta property="og:image:alt" content="스터디 멤버 참조 [[#]] [[#]] [[#]] [[#]] [[#]] [[#]] [[#]] [[#]] [[#]] Toy Project 추가 자료 조사 - Smart Pointer 스터디 멤버 김태훈 김형석 유재상 참조 tourofrust.com/TOC_ko.html 1장 - 기초 Rust 놀이터 별도의 환경을 구성하지 않더라도, “Rust 놀이터”라고 하는 Web Service를 통해 기본적인 코드를 실행해볼 수 있다."/><meta property="twitter:domain" content="quartz.jzhao.xyz"/><meta property="og:url" content="https://quartz.jzhao.xyz/Personal/Rust-Study"/><meta property="twitter:url" content="https://quartz.jzhao.xyz/Personal/Rust-Study"/><link rel="icon" href="../static/icon.png"/><meta name="description" content="스터디 멤버 참조 [[#]] [[#]] [[#]] [[#]] [[#]] [[#]] [[#]] [[#]] [[#]] Toy Project 추가 자료 조사 - Smart Pointer 스터디 멤버 김태훈 김형석 유재상 참조 tourofrust.com/TOC_ko.html 1장 - 기초 Rust 놀이터 별도의 환경을 구성하지 않더라도, “Rust 놀이터”라고 하는 Web Service를 통해 기본적인 코드를 실행해볼 수 있다."/><meta name="generator" content="Quartz"/><link href="../index.css" rel="stylesheet" type="text/css" spa-preserve/><style>.expand-button {
  position: absolute;
  display: flex;
  float: right;
  padding: 0.4rem;
  margin: 0.3rem;
  right: 0;
  color: var(--gray);
  border-color: var(--dark);
  background-color: var(--light);
  border: 1px solid;
  border-radius: 5px;
  opacity: 0;
  transition: 0.2s;
}
.expand-button > svg {
  fill: var(--light);
  filter: contrast(0.3);
}
.expand-button:hover {
  cursor: pointer;
  border-color: var(--secondary);
}
.expand-button:focus {
  outline: 0;
}

pre:hover > .expand-button {
  opacity: 1;
  transition: 0.2s;
}

#mermaid-container {
  position: fixed;
  contain: layout;
  z-index: 999;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  display: none;
  backdrop-filter: blur(4px);
  background: rgba(0, 0, 0, 0.5);
}
#mermaid-container.active {
  display: inline-block;
}
#mermaid-container > #mermaid-space {
  border: 1px solid var(--lightgray);
  background-color: var(--light);
  border-radius: 5px;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  height: 80vh;
  width: 80vw;
  overflow: hidden;
}
#mermaid-container > #mermaid-space > .mermaid-content {
  padding: 2rem;
  position: relative;
  transform-origin: 0 0;
  transition: transform 0.1s ease;
  overflow: visible;
  min-height: 200px;
  min-width: 200px;
}
#mermaid-container > #mermaid-space > .mermaid-content pre {
  margin: 0;
  border: none;
}
#mermaid-container > #mermaid-space > .mermaid-content svg {
  max-width: none;
  height: auto;
}
#mermaid-container > #mermaid-space > .mermaid-controls {
  position: absolute;
  bottom: 20px;
  right: 20px;
  display: flex;
  gap: 8px;
  padding: 8px;
  background: var(--light);
  border: 1px solid var(--lightgray);
  border-radius: 6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  z-index: 2;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 0;
  border: 1px solid var(--lightgray);
  background: var(--light);
  color: var(--dark);
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
  font-family: var(--bodyFont);
  transition: all 0.2s ease;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:hover {
  background: var(--lightgray);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:active {
  transform: translateY(1px);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:nth-child(2) {
  width: auto;
  padding: 0 12px;
  font-size: 14px;
}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VSb290IjoiL2hvbWUvcnVubmVyL3dvcmsvdmF1bHQuaHllb25nc2Vvay1raW0vdmF1bHQuaHllb25nc2Vvay1raW0vcXVhcnR6L3F1YXJ0ei9jb21wb25lbnRzL3N0eWxlcyIsInNvdXJjZXMiOlsibWVybWFpZC5pbmxpbmUuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTs7QUFHRjtFQUNFO0VBQ0E7O0FBR0Y7RUFDRTs7O0FBS0Y7RUFDRTtFQUNBOzs7QUFJSjtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0FBRUE7RUFDRTs7QUFHRjtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0FBRUE7RUFDRTtFQUNBOztBQUdGO0VBQ0U7RUFDQTs7QUFJSjtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0FBRUE7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7O0FBR0Y7RUFDRTs7QUFJRjtFQUNFO0VBQ0E7RUFDQSIsInNvdXJjZXNDb250ZW50IjpbIi5leHBhbmQtYnV0dG9uIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbG9hdDogcmlnaHQ7XG4gIHBhZGRpbmc6IDAuNHJlbTtcbiAgbWFyZ2luOiAwLjNyZW07XG4gIHJpZ2h0OiAwOyAvLyBOT1RFOiByaWdodCB3aWxsIGJlIHNldCBpbiBtZXJtYWlkLmlubGluZS50c1xuICBjb2xvcjogdmFyKC0tZ3JheSk7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0tZGFyayk7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWxpZ2h0KTtcbiAgYm9yZGVyOiAxcHggc29saWQ7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNpdGlvbjogMC4ycztcblxuICAmID4gc3ZnIHtcbiAgICBmaWxsOiB2YXIoLS1saWdodCk7XG4gICAgZmlsdGVyOiBjb250cmFzdCgwLjMpO1xuICB9XG5cbiAgJjpob3ZlciB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2Vjb25kYXJ5KTtcbiAgfVxuXG4gICY6Zm9jdXMge1xuICAgIG91dGxpbmU6IDA7XG4gIH1cbn1cblxucHJlIHtcbiAgJjpob3ZlciA+IC5leHBhbmQtYnV0dG9uIHtcbiAgICBvcGFjaXR5OiAxO1xuICAgIHRyYW5zaXRpb246IDAuMnM7XG4gIH1cbn1cblxuI21lcm1haWQtY29udGFpbmVyIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBjb250YWluOiBsYXlvdXQ7XG4gIHotaW5kZXg6IDk5OTtcbiAgbGVmdDogMDtcbiAgdG9wOiAwO1xuICB3aWR0aDogMTAwdnc7XG4gIGhlaWdodDogMTAwdmg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGRpc3BsYXk6IG5vbmU7XG4gIGJhY2tkcm9wLWZpbHRlcjogYmx1cig0cHgpO1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNSk7XG5cbiAgJi5hY3RpdmUge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgfVxuXG4gICYgPiAjbWVybWFpZC1zcGFjZSB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbGlnaHRncmF5KTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodCk7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB0b3A6IDUwJTtcbiAgICBsZWZ0OiA1MCU7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gICAgaGVpZ2h0OiA4MHZoO1xuICAgIHdpZHRoOiA4MHZ3O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG5cbiAgICAmID4gLm1lcm1haWQtY29udGVudCB7XG4gICAgICBwYWRkaW5nOiAycmVtO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xuICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMXMgZWFzZTtcbiAgICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICAgICAgbWluLWhlaWdodDogMjAwcHg7XG4gICAgICBtaW4td2lkdGg6IDIwMHB4O1xuXG4gICAgICBwcmUge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgIH1cblxuICAgICAgc3ZnIHtcbiAgICAgICAgbWF4LXdpZHRoOiBub25lO1xuICAgICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICB9XG4gICAgfVxuXG4gICAgJiA+IC5tZXJtYWlkLWNvbnRyb2xzIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGJvdHRvbTogMjBweDtcbiAgICAgIHJpZ2h0OiAyMHB4O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGdhcDogOHB4O1xuICAgICAgcGFkZGluZzogOHB4O1xuICAgICAgYmFja2dyb3VuZDogdmFyKC0tbGlnaHQpO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbGlnaHRncmF5KTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgICB6LWluZGV4OiAyO1xuXG4gICAgICAubWVybWFpZC1jb250cm9sLWJ1dHRvbiB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICB3aWR0aDogMzJweDtcbiAgICAgICAgaGVpZ2h0OiAzMnB4O1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1saWdodGdyYXkpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1saWdodCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1kYXJrKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWJvZHlGb250KTtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcblxuICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1saWdodGdyYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgJjphY3RpdmUge1xuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxcHgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3R5bGUgdGhlIHJlc2V0IGJ1dHRvbiBkaWZmZXJlbnRseVxuICAgICAgICAmOm50aC1jaGlsZCgyKSB7XG4gICAgICAgICAgd2lkdGg6IGF1dG87XG4gICAgICAgICAgcGFkZGluZzogMCAxMnB4O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19 */</style><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../static/contentIndex.json").then(data => data.json())</script><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://quartz.jzhao.xyz/index.xml"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image" content="https://quartz.jzhao.xyz/Personal/Rust-Study-og-image.webp"/><meta property="og:image:url" content="https://quartz.jzhao.xyz/Personal/Rust-Study-og-image.webp"/><meta name="twitter:image" content="https://quartz.jzhao.xyz/Personal/Rust-Study-og-image.webp"/><meta property="og:image:type" content="image/.webp"/></head><body data-slug="Personal/Rust-Study"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href="..">HyeongSeok Kim's Vault</a></h2><div class="spacer mobile-only"></div><div class="flex-component" style="flex-direction: row; flex-wrap: nowrap; gap: 1rem;"><div style="flex-grow: 1; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><div class="search"><button class="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div class="search-container"><div class="search-space"><input autocomplete="off" class="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div class="search-layout" data-preview="true"></div></div></div></div></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="readermode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="readerIcon" fill="currentColor" stroke="currentColor" stroke-width="0.2" stroke-linecap="round" stroke-linejoin="round" width="64px" height="64px" viewBox="0 0 24 24" aria-label="Reader mode"><title>Reader mode</title><g transform="translate(-1.8, -1.8) scale(1.15, 1.2)"><path d="M8.9891247,2.5 C10.1384702,2.5 11.2209868,2.96705384 12.0049645,3.76669482 C12.7883914,2.96705384 13.8709081,2.5 15.0202536,2.5 L18.7549359,2.5 C19.1691495,2.5 19.5049359,2.83578644 19.5049359,3.25 L19.5046891,4.004 L21.2546891,4.00457396 C21.6343849,4.00457396 21.9481801,4.28672784 21.9978425,4.6528034 L22.0046891,4.75457396 L22.0046891,20.25 C22.0046891,20.6296958 21.7225353,20.943491 21.3564597,20.9931534 L21.2546891,21 L2.75468914,21 C2.37499337,21 2.06119817,20.7178461 2.01153575,20.3517706 L2.00468914,20.25 L2.00468914,4.75457396 C2.00468914,4.37487819 2.28684302,4.061083 2.65291858,4.01142057 L2.75468914,4.00457396 L4.50368914,4.004 L4.50444233,3.25 C4.50444233,2.87030423 4.78659621,2.55650904 5.15267177,2.50684662 L5.25444233,2.5 L8.9891247,2.5 Z M4.50368914,5.504 L3.50468914,5.504 L3.50468914,19.5 L10.9478955,19.4998273 C10.4513189,18.9207296 9.73864328,18.5588115 8.96709342,18.5065584 L8.77307039,18.5 L5.25444233,18.5 C4.87474657,18.5 4.56095137,18.2178461 4.51128895,17.8517706 L4.50444233,17.75 L4.50368914,5.504 Z M19.5049359,17.75 C19.5049359,18.1642136 19.1691495,18.5 18.7549359,18.5 L15.2363079,18.5 C14.3910149,18.5 13.5994408,18.8724714 13.0614828,19.4998273 L20.5046891,19.5 L20.5046891,5.504 L19.5046891,5.504 L19.5049359,17.75 Z M18.0059359,3.999 L15.0202536,4 L14.8259077,4.00692283 C13.9889509,4.06666544 13.2254227,4.50975805 12.7549359,5.212 L12.7549359,17.777 L12.7782651,17.7601316 C13.4923805,17.2719483 14.3447024,17 15.2363079,17 L18.0059359,16.999 L18.0056891,4.798 L18.0033792,4.75457396 L18.0056891,4.71 L18.0059359,3.999 Z M8.9891247,4 L6.00368914,3.999 L6.00599909,4.75457396 L6.00599909,4.75457396 L6.00368914,4.783 L6.00368914,16.999 L8.77307039,17 C9.57551536,17 10.3461406,17.2202781 11.0128313,17.6202194 L11.2536891,17.776 L11.2536891,5.211 C10.8200889,4.56369974 10.1361548,4.13636104 9.37521067,4.02745763 L9.18347055,4.00692283 L8.9891247,4 Z"></path></g></svg></button></div></div><div class="explorer" data-behavior="link" data-collapsed="collapsed" data-savestate="true" data-data-fns="{&quot;order&quot;:[&quot;filter&quot;,&quot;map&quot;,&quot;sort&quot;],&quot;sortFn&quot;:&quot;(a,b)=>!a.isFolder&amp;&amp;!b.isFolder||a.isFolder&amp;&amp;b.isFolder?a.displayName.localeCompare(b.displayName,void 0,{numeric:!0,sensitivity:\&quot;base\&quot;}):!a.isFolder&amp;&amp;b.isFolder?1:-1&quot;,&quot;filterFn&quot;:&quot;node=>node.slugSegment!==\&quot;tags\&quot;&quot;,&quot;mapFn&quot;:&quot;node=>node&quot;}"><button type="button" class="explorer-toggle mobile-explorer hide-until-loaded" data-mobile="true" aria-controls="explorer-content"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-menu"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><button type="button" class="title-button explorer-toggle desktop-explorer" data-mobile="false" aria-expanded="true"><h2>Explorer</h2><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="explorer-content" aria-expanded="false"><ul class="explorer-ul overflow" id="list-0"><li class="overflow-end"></li></ul></div><template id="template-file"><li><a href="#"></a></li></template><template id="template-folder"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div><button class="folder-button"><span class="folder-title"></span></button></div></div><div class="folder-outer"><ul class="content"></ul></div></li></template></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../Personal/">Personal</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>Rust Study</a></div></nav><h1 class="article-title">Rust Study</h1><p show-comma="true" class="content-meta"><time datetime="2025-06-17T08:48:27.128Z">Jun 17, 2025</time><span>82 min read</span></p></div></div><article class="popover-hint"><ul>
<li><a href="#%EC%8A%A4%ED%84%B0%EB%94%94-%EB%A9%A4%EB%B2%84" class="internal alias">스터디 멤버</a></li>
<li><a href="#%EC%B0%B8%EC%A1%B0" class="internal alias">참조</a></li>
<li>[[#]]</li>
<li>[[#]]</li>
<li>[[#]]</li>
<li>[[#]]</li>
<li>[[#]]</li>
<li>[[#]]</li>
<li>[[#]]</li>
<li>[[#]]</li>
<li>[[#]]</li>
<li><a href="#toy-project" class="internal alias">Toy Project</a></li>
<li><a href="#%EC%B6%94%EA%B0%80-%EC%9E%90%EB%A3%8C-%EC%A1%B0%EC%82%AC---smart-pointer" class="internal alias">추가 자료 조사 - Smart Pointer</a></li>
</ul>
<hr/>
<h3 id="스터디-멤버">스터디 멤버<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#스터디-멤버" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p><a href="https://blog.taehun.dev/" class="external">김태훈<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<p><a href="http://tiryul.notion.site/" class="external">김형석<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<p><a href="http://devlog.jsyoo5b.net" class="external">유재상<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<h2 id="참조">참조<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#참조" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p><a href="https://tourofrust.com/TOC_ko.html" class="external">https://tourofrust.com/TOC_ko.html<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<h1 id="1장---기초">1장 - 기초<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#1장---기초" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<h2 id="rust-놀이터"><a href="https://tourofrust.com/02_ko.html" class="external">Rust 놀이터<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#rust-놀이터" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>별도의 환경을 구성하지 않더라도, “<a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021" class="external">Rust 놀이터<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>”라고 하는 Web Service를 통해 기본적인 코드를 실행해볼 수 있다.</p>
<h2 id="변수"><a href="https://tourofrust.com/03_ko.html" class="external">변수<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#변수" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>‘let’ 키워드르 통해 변수 선언, 자료형은 일반적으로 적지 않아도 유추합니다.
<ul>
<li>(마치 파이썬처럼..)</li>
<li>그러나 type을 명시할 수도 있습니다.</li>
</ul>
</li>
<li>variable shadowing
<ul>
<li>이미 선언한 변수 이름으로 다시 선언할 수 있습니다.</li>
<li>다시 선언하는 변수는 기존의 변수와 전혀 다른 타입일 수 있습니다.</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Bash" data-theme="github-dark"><code data-language="Bash" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    // rust가 x의 자료형을 유추합니다</span></span>
<span data-line><span>    let x = 13;</span></span>
<span data-line><span>    println!(&quot;{}&quot;, x);</span></span>
<span data-line> </span>
<span data-line><span>    // 자료형을 명시적으로 지정할 수도 있습니다</span></span>
<span data-line><span>    let x: f64 = 3.14159;</span></span>
<span data-line><span>    println!(&quot;{}&quot;, x);</span></span>
<span data-line> </span>
<span data-line><span>    // 선언 후 나중에 초기화도 가능하지만, 보통 그렇게 하진 않습니다</span></span>
<span data-line><span>    let x;</span></span>
<span data-line><span>    x = 0;</span></span>
<span data-line><span>    println!(&quot;{}&quot;, x);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="변수의-값-변경하기"><a href="https://tourofrust.com/04_ko.html" class="external">변수의 값 변경하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#변수의-값-변경하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><strong>mutable vs immutable</strong>
<ul>
<li>
<p><strong>immutable(기본)</strong></p>
<ul>
<li>기본적으로 변수를 선언하면 c++의 const 키워드를 추가한 것처럼 변경이 불가한 상태가 됩니다.</li>
<li>다만, const와는 다릅니다. 어디까지나 런타임 데이터입니다.
<ul>
<li><a href="https://stackoverflow.com/questions/37877381/what-is-the-difference-between-immutable-and-const-variables-in-rust" class="external"><strong>Rust에서 불변 변수와 const 변수의 차이점은 무엇인가요?</strong><svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>mutable</strong></p>
<ul>
<li>변경 가능한 값은 mut 키워드를 추가하여 선언해야 합니다.</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Bash" data-theme="github-dark"><code data-language="Bash" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let mut x = 42;</span></span>
<span data-line><span>    println!(&quot;{}&quot;, x);</span></span>
<span data-line><span>    x = 13;</span></span>
<span data-line><span>    println!(&quot;{}&quot;, x);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
</li>
</ul>
</li>
</ul>
<h2 id="기본-자료형"><a href="https://tourofrust.com/05_ko.html" class="external">기본 자료형<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#기본-자료형" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>Rust에는 다양하지만 익숙한 자료형
<ul>
<li>부울 값 - 참/거짓 값을 나타내는 <code>bool</code></li>
<li>부호가 없는 정수형 - 양의 정수를 나타내는 <code>u8</code> <code>u16</code> <code>u32</code> <code>u64</code> <code>u128</code></li>
<li>부호가 있는 정수형 - 양/음의 정수를 나타내는 <code>i8</code> <code>i16</code> <code>i32</code> <code>i64</code> <code>i128</code></li>
<li>포인터 사이즈 정수 - 메모리에 있는 값들의 인덱스와 크기를 나타내는 <code>usize</code> <code>isize</code></li>
<li>부동 소수점 - <code>f32</code> <code>f64</code></li>
<li>튜플(tuple) - stack에 있는 값들의 고정된 순서를 전달하기 위한 <code>(값, 값, ...)</code></li>
<li>배열(array) - 컴파일 타임에 정해진 길이를 갖는 유사한 원소들의 모음(collection)인 <code>[값, 값, ...]</code></li>
<li>슬라이스(slice) - 런타임에 길이가 정해지는 유사한 원소들의 collection</li>
<li><code>str</code>(문자열 slice) - 런타임에 길이가 정해지는 텍스트
<ul>
<li>텍스트는 다른 익숙한 언어에서보다 복잡한데, 이는 Rust가 시스템 프로그래밍 언어이며 여러분이 지금까지 익숙하지 않았을 메모리 문제에 신경쓰기 때문입니다. 이에 대해서는 나중에 더 자세히 다루겠습니다.</li>
</ul>
</li>
</ul>
</li>
<li>숫자형 자료형들은 숫자 뒤에 자료형 이름을 붙여 명시적으로 지정할 수 있습니다 (예: <code>13u32</code>, <code>2u8</code>).</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Bash" data-theme="github-dark"><code data-language="Bash" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let x = 12; // 기본적으로 i32</span></span>
<span data-line><span>    let a = 12u8;</span></span>
<span data-line><span>    let b = 4.3; // 기본적으로 f64</span></span>
<span data-line><span>    let c = 4.3f32;</span></span>
<span data-line><span>    let bv = true;</span></span>
<span data-line><span>    let t = (13, false);</span></span>
<span data-line><span>    let sentence = &quot;hello world!&quot;;</span></span>
<span data-line><span>    println!(</span></span>
<span data-line><span>        &quot;{} {} {} {} {} {} {} {}&quot;,</span></span>
<span data-line><span>        x, a, b, c, bv, t.0, t.1, sentence</span></span>
<span data-line><span>    );</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="기본-자료형-변환"><a href="https://tourofrust.com/06_ko.html" class="external">기본 자료형 변환<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#기본-자료형-변환" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><strong>as</strong> 키워드를 사용해 자료형을 매우 쉽게 변환할 수 있습니다.</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Bash" data-theme="github-dark"><code data-language="Bash" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let a = 13u8;</span></span>
<span data-line><span>    let b = 7u32;</span></span>
<span data-line><span>    let c = a as u32 + b;</span></span>
<span data-line><span>    println!(&quot;{}&quot;, c);</span></span>
<span data-line> </span>
<span data-line><span>    let t = true;</span></span>
<span data-line><span>    println!(&quot;{}&quot;, t as u8);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="상수"><a href="https://tourofrust.com/07_ko.html" class="external">상수<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#상수" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>const 키워드를 사용하여 상수를 선언할 수 있습니다.</li>
<li>const로 선언된 값은 컴파일 타임에 텍스트 지정자를 직접 값으로 대체합니다.</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Bash" data-theme="github-dark"><code data-language="Bash" data-theme="github-dark" style="display:grid;"><span data-line><span>const PI: f32 = 3.14159;</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    println!(</span></span>
<span data-line><span>        &quot;아무 재료 없이 애플 {}를 만들려면, 먼저 우주를 만들어야 한다.&quot;,</span></span>
<span data-line><span>        PI</span></span>
<span data-line><span>    );</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="배열"><a href="https://tourofrust.com/08_ko.html" class="external">배열<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#배열" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>_배열(array)_은 고정된 길이로 된 모두 같은 자료형의 자료를 가진 collection입니다.</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Bash" data-theme="github-dark"><code data-language="Bash" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let nums: [i32; 3] = [1, 2, 3];</span></span>
<span data-line><span>    println!(&quot;{:?}&quot;, nums);</span></span>
<span data-line><span>    println!(&quot;{}&quot;, nums[1]);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="함수"><a href="https://tourofrust.com/09_ko.html" class="external">함수<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#함수" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>fn 키워드르 메서드를 선언할 수 있습니다.</li>
<li>typing hint가 추가된 python 메서드와 같이 [변수명:타입 → 리턴 값] 타입의 형태로 선언됩니다.</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Bash" data-theme="github-dark"><code data-language="Bash" data-theme="github-dark" style="display:grid;"><span data-line><span>fn add(x: i32, y: i32) -> i32 {</span></span>
<span data-line><span>    return x + y;</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    println!(&quot;{}&quot;, add(42, 13));</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="여러개의-리턴-값"><a href="https://tourofrust.com/10_ko.html" class="external">여러개의 리턴 값<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#여러개의-리턴-값" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>튜플 형을 리턴함으로써 여러개의 값을 리턴할 수 있습니다.</li>
<li>또한 python 같은 destructuring 방법을 지원합니다.</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Bash" data-theme="github-dark"><code data-language="Bash" data-theme="github-dark" style="display:grid;"><span data-line><span>fn swap(x: i32, y: i32) -> (i32, i32) {</span></span>
<span data-line><span>    return (y, x);</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    // 리턴 값의 튜플을 리턴</span></span>
<span data-line><span>    let result = swap(123, 321);</span></span>
<span data-line><span>    println!(&quot;{} {}&quot;, result.0, result.1);</span></span>
<span data-line> </span>
<span data-line><span>    // 튜플을 두 변수명으로 분해</span></span>
<span data-line><span>    let (a, b) = swap(result.0, result.1);</span></span>
<span data-line><span>    println!(&quot;{} {}&quot;, a, b);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="아무것도-리턴하지-않기"><a href="https://tourofrust.com/11_ko.html" class="external">아무것도 리턴하지 않기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#아무것도-리턴하지-않기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>아무것도 반환하지 않는 메서드는 자동으로 empty tuple = ‘()’을 반환합니다.</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Bash" data-theme="github-dark"><code data-language="Bash" data-theme="github-dark" style="display:grid;"><span data-line><span>fn make_nothing() -> () {</span></span>
<span data-line><span>    return ();</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>// 리턴 자료형은 ()로 암시</span></span>
<span data-line><span>fn make_nothing2() {</span></span>
<span data-line><span>    // 리턴할 것이 지정되지 않으면 이 함수는 ()를 리턴함</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let a = make_nothing();</span></span>
<span data-line><span>    let b = make_nothing2();</span></span>
<span data-line> </span>
<span data-line><span>    // 아무 것도 없는 것은 출력하기 힘들기 때문에</span></span>
<span data-line><span>    // a와 b의 디버그 문자열을 출력한다</span></span>
<span data-line><span>    println!(&quot;The value of a: {:?}&quot;, a);</span></span>
<span data-line><span>    println!(&quot;The value of b: {:?}&quot;, b);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h1 id="2장---기초적인-흐름-제어">2장 - 기초적인 흐름 제어<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#2장---기초적인-흐름-제어" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<h2 id="ifelse-ifelse"><a href="https://tourofrust.com/14_ko.html" class="external">if/else if/else<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#ifelse-ifelse" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>기존의 논리 연산자를 그대로 사용 할 수 있음
<ul>
<li><code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>></code>, <code>&lt;=</code>, <code>>=</code>, <code>!</code>, <code>||</code>, <code>&amp;&amp;</code></li>
</ul>
</li>
<li>python 처럼 조건문에 중괄호 ‘()’가 필요하지 않음</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let x = 42;</span></span>
<span data-line><span>    if x &lt; 42 {</span></span>
<span data-line><span>        println!(&quot;42보다 작다&quot;);</span></span>
<span data-line><span>    } else if x == 42 {</span></span>
<span data-line><span>        println!(&quot;42와 같다&quot;);</span></span>
<span data-line><span>    } else {</span></span>
<span data-line><span>        println!(&quot;42보다 크다&quot;);</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="loop"><a href="https://tourofrust.com/15_ko.html" class="external">loop<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#loop" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>loop { … }로 반복</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let mut x = 0;</span></span>
<span data-line><span>    loop {</span></span>
<span data-line><span>        x += 1;</span></span>
<span data-line><span>        if x == 42 {</span></span>
<span data-line><span>            break;</span></span>
<span data-line><span>        }</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>    println!(&quot;{}&quot;, x);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="while"><a href="https://tourofrust.com/16_ko.html" class="external">while<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#while" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>whlie condition { … }로 반복</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let mut x = 0;</span></span>
<span data-line><span>    while x != 42 {</span></span>
<span data-line><span>        x += 1;</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="for"><a href="https://tourofrust.com/17_ko.html" class="external">for<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#for" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>for item in iterator { … }로 반복</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    for x in 0..5 {</span></span>
<span data-line><span>        println!(&quot;{}&quot;, x);</span></span>
<span data-line><span>    }</span></span>
<span data-line> </span>
<span data-line><span>    for x in 0..=5 {</span></span>
<span data-line><span>        println!(&quot;{}&quot;, x);</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="match"><a href="https://tourofrust.com/18_ko.html" class="external">match<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#match" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>switch의 대용, 모든 case를 처리해야 한다.</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let x = 42;</span></span>
<span data-line> </span>
<span data-line><span>    match x {</span></span>
<span data-line><span>        0 => {</span></span>
<span data-line><span>            println!(&quot;0 발견&quot;);</span></span>
<span data-line><span>        }</span></span>
<span data-line><span>        // 여러 개 값과 대조할 수 있다</span></span>
<span data-line><span>        1 | 2 => {</span></span>
<span data-line><span>            println!(&quot;1 또는 2 발견!&quot;);</span></span>
<span data-line><span>        }</span></span>
<span data-line><span>        // 범위로 대조할 수 있다</span></span>
<span data-line><span>        3..=9 => {</span></span>
<span data-line><span>            println!(&quot;3에서 9까지의 숫자 발견&quot;);</span></span>
<span data-line><span>        }</span></span>
<span data-line><span>        // 찾은 숫자를 변수에 바인딩할 수 있다</span></span>
<span data-line><span>        matched_num @ 10..=100 => {</span></span>
<span data-line><span>            println!(&quot;10에서 100까지의 숫자 {} 발견!&quot;, matched_num);</span></span>
<span data-line><span>        }</span></span>
<span data-line><span>        // 모든 케이스가 처리되지 않았을 경우 반드시 존재해야 하는 기본 match</span></span>
<span data-line><span>        _ => {</span></span>
<span data-line><span>            println!(&quot;뭔가 다른거 발견!&quot;);</span></span>
<span data-line><span>        }</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="loop에서-값-리턴하기"><a href="https://tourofrust.com/19_ko.html" class="external">loop에서 값 리턴하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#loop에서-값-리턴하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>break 뒤에 값을 두면, loop 후 값이 리턴됨</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let mut x = 0;</span></span>
<span data-line><span>    let v = loop {</span></span>
<span data-line><span>        x += 1;</span></span>
<span data-line><span>        if x == 13 {</span></span>
<span data-line><span>            break &quot;13 찾았다&quot;;</span></span>
<span data-line><span>        }</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    println!(&quot;loop에서: {}&quot;, v);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="블록-표현에서-값-리턴하기"><a href="https://tourofrust.com/20_ko.html" class="external">블록 표현에서 값 리턴하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#블록-표현에서-값-리턴하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>다른 언어들과 많이 다른 부분</li>
<li>‘return’이 없더라도, <code>if</code>, <code>match</code>, 함수, 또는 범위 블록의 마지막 구문에 ’;‘가 없다면 Rust는 그 값을 블록의 리턴 값으로 간주</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn example() -> i32 {</span></span>
<span data-line><span>    let x = 42;</span></span>
<span data-line><span>    // Rust의 3항 연산 표현</span></span>
<span data-line><span>    let v = if x &lt; 42 { -1 } else { 1 };</span></span>
<span data-line><span>    println!(&quot;if로부터: {}&quot;, v);</span></span>
<span data-line> </span>
<span data-line><span>    let food = &quot;햄버거&quot;;</span></span>
<span data-line><span>    let result = match food {</span></span>
<span data-line><span>        &quot;핫도그&quot; => &quot;핫도그다&quot;,</span></span>
<span data-line><span>        // 리턴문 하나 뿐이라면 중괄호는 필수가 아님</span></span>
<span data-line><span>        _ => &quot;핫도그가 아니다&quot;,</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    println!(&quot;음식 판별: {}&quot;, result);</span></span>
<span data-line> </span>
<span data-line><span>    let v = {</span></span>
<span data-line><span>        // 이 범위 블록은 함수 범위를 더럽히지 않고 값을 가져오게 해준다</span></span>
<span data-line><span>        let a = 1;</span></span>
<span data-line><span>        let b = 2;</span></span>
<span data-line><span>        a + b</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    println!(&quot;block에서: {}&quot;, v);</span></span>
<span data-line> </span>
<span data-line><span>    // Rust에서 함수 마지막에 값을 리턴하는 관용적 표현</span></span>
<span data-line><span>    v + 4</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    println!(&quot;function에서: {}&quot;, example());</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="2장---마무리"><a href="https://tourofrust.com/21_ko.html" class="external">2장 - 마무리<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#2장---마무리" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h1 id="3장---기본-데이터-구조-자료형">3장 - 기본 데이터 구조 자료형<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#3장---기본-데이터-구조-자료형" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<h2 id="구조체"><a href="https://tourofrust.com/23_ko.html" class="external">구조체<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#구조체" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><code>struct</code>는 필드(field)들의 collection</li>
<li>이 정의는 메모리 상에 field들을 어떻게 배치할지에 대한 컴파일러의 청사진
<ul>
<li>정의한 순서에 따라 memory 순서까지 달라지는 것일까?</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct SeaCreature {</span></span>
<span data-line><span>    // String은 struct다</span></span>
<span data-line><span>    animal_type: String,</span></span>
<span data-line><span>    name: String,</span></span>
<span data-line><span>    arms: i32,</span></span>
<span data-line><span>    legs: i32,</span></span>
<span data-line><span>    weapon: String,</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="메소드-호출하기"><a href="https://tourofrust.com/24_ko.html" class="external">메소드 호출하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#메소드-호출하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>c++과 비슷한 느낌으로 호출</li>
<li><strong>스태틱 메소드(static methods)</strong> - 자료형 그 자체에 속하는 메소드로서, <code>::</code> 연산자를 이용하여 호출</li>
<li><strong>인스턴스 메소드(instance methods)</strong> - 자료형의 인스턴스에 속하는 메소드로서, <code>.</code> 연산자를 이용하여 호출</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    // static method를 사용하여 String의 instance를 생성</span></span>
<span data-line><span>    let s = String::from(&quot;Hello world!&quot;);</span></span>
<span data-line><span>    // instance의 메소드를 사용</span></span>
<span data-line><span>    println!(&quot;{}의 글자 수는 {}입니다.&quot;, s, s.len());</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="메모리"><a href="https://tourofrust.com/25_ko.html" class="external">메모리<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#메모리" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>Rust 프로그램에는 데이터가 저장되는 세 가지의 메모리 영역이 존재</li>
<li><strong>데이터 메모리(data memory)</strong>
<ul>
<li>크기가 고정 되었으며 <strong>static</strong>한 데이터
<ul>
<li>예: “Hello World!”</li>
<li>이 텍스트의 바이트들은 오직 한 곳에서만 읽히므로 이 영역에 저장될 수 있음</li>
<li>이런 종류의 데이터는 컴파일러가 많은 최적화를 수행</li>
<li>위치가 알려져 있고 고정되어 있기 때문에 일반적으로 사용하기에 매우 빠름</li>
</ul>
</li>
</ul>
</li>
<li><strong>스택 메모리(stack memory)</strong>
<ul>
<li>함수 내에서 변수로 선언되는 데이터용
<ul>
<li><strong>이 메모리의 위치는 함수 호출 동안</strong>에는 절대 변하지 않음</li>
<li>때문에 컴파일러가 코드를 최적화할 수 있으며, 이로 인해 접근하기에 매우 빠름</li>
</ul>
</li>
</ul>
</li>
<li><strong>힙 메모리(heap memory)</strong>
<ul>
<li>애플리케이션이 실행되는 동안 생성되는 데이터용
<ul>
<li>이 영역의 데이터는 추가하거나, 이동하거나, 제거하거나, 크기를 바꾸거나, 등을 할 수 있음</li>
<li>일반적으로 사용하기에 느리지만, 훨씬 더 창의적인 메모리 사용이 가능</li>
<li>데이터가 이 영역에 추가되면 <strong>할당(allocation)</strong></li>
<li>데이터가 이 영역에서 제거되면 <strong>해제(deallocation)</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="메모리에-데이터-생성하기"><a href="https://tourofrust.com/26_ko.html" class="external">메모리에 데이터 생성하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#메모리에-데이터-생성하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>데이터가 stack에 할당되는지, heap에 할당되는지에 대한 차이는 c++과 매우 유사</li>
<li>struct의 field 값들은 <code>.</code> 연산자를 통해 접근</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line> </span>
<span data-line><span>let ferris = SeaCreature {</span></span>
<span data-line><span>		// String struct도 stack에 있지만,</span></span>
<span data-line><span>		// heap에 있는 데이터에 대한 참조를 갖고 있음</span></span>
<span data-line><span>		animal_type: String::from(&quot;게&quot;),</span></span>
<span data-line><span>		name: String::from(&quot;Ferris&quot;),</span></span>
<span data-line><span>		arms: 2,</span></span>
<span data-line><span>		legs: 4,</span></span>
<span data-line><span>		weapon: String::from(&quot;집게&quot;),</span></span>
<span data-line><span>};</span></span></code></pre></figure>
<h2 id="tuple-같은-구조체"><a href="https://tourofrust.com/27_ko.html" class="external">Tuple 같은 구조체<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#tuple-같은-구조체" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>튜플형태로 struct를 생성할 수 있음</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct Location(i32, i32);</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    // 이것도 여전히 stack에 있는 struct임</span></span>
<span data-line><span>    let loc = Location(42, 32);</span></span>
<span data-line><span>    println!(&quot;{}, {}&quot;, loc.0, loc.1);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="unit-같은-구조체"><a href="https://tourofrust.com/28_ko.html" class="external">Unit 같은 구조체<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#unit-같은-구조체" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>struct 내에 아무것도 선언하지 않는다면 빈 튜플과 같아짐
<ul>
<li>unit은 빈 튜플의 또 다른 이름</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct Location(i32, i32);</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    // 이것도 여전히 stack에 있는 struct임</span></span>
<span data-line><span>    let loc = Location(42, 32);</span></span>
<span data-line><span>    println!(&quot;{}, {}&quot;, loc.0, loc.1);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="열거형"><a href="https://tourofrust.com/29_ko.html" class="external">열거형<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#열거형" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>열거형(enumeration)은 <code>enum</code> 키워드를 통해 몇 가지 태그된 원소의 값을 가질 수 있는 새로운 자료형을 생성</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>enum Species {</span></span>
<span data-line><span>    Crab,</span></span>
<span data-line><span>    Octopus,</span></span>
<span data-line><span>    Fish,</span></span>
<span data-line><span>    Clam,</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="열거형과-데이터"><a href="https://tourofrust.com/30_ko.html" class="external">열거형과 데이터<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#열거형과-데이터" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>내용이 난해해서 원문 복붙..</li>
</ul>
<blockquote>
<p><code>enum</code>의 원소들은 C의 _union_처럼 동작할 수 있도록 한 개 이상의 자료형을 가질 수 있습니다.</p>
<p><code>enum</code>이 <code>match</code>를 통해 패턴 일치될 때, 각각의 데이터 값에 변수명을 붙일 수 있습니다.</p>
<p><code>enum</code>의 메모리 상세:</p>
<ul>
<li>enum 데이터 값은 가장 큰 원소의 메모리 크기와 같은 메모리 크기를 가집니다. 이는 가능한 모든 값이 동일한 메모리 공간에 들어갈 수 있게 해줍니다.</li>
<li>원소의 자료형(있는 경우)에 더하여, 각 원소는 무슨 태그에 해당하는지 나타내는 숫자값도 갖습니다.</li>
</ul>
<p>다른 상세 정보:</p>
<ul>
<li>Rust의 <code>enum</code>은 _tagged union_으로도 알려져 있습니다.</li>
<li>Rust가 _대수적 자료형(algebraic types)_을 갖고 있다고 할 때 이는 자료형을 조합하여 새 자료형을 만드는 것을 의미합니다.</li>
</ul>
</blockquote>
<ul>
<li>Rust의 <code>enum</code>은 _tagged union_으로도 알려져 있음
<ul>
<li>tagged union
<ul>
<li><a href="https://80000coding.oopy.io/e1fcc2c2-8149-49a8-9b9b-544103481c9c" class="external">https://80000coding.oopy.io/e1fcc2c2-8149-49a8-9b9b-544103481c9c<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li>enum 내에 선언된 원소 중 가장 큰 data size와 같은 메모리 크기를 가짐
<ul>
<li>가능한 모든 값이 동일 메모리 공간 안에 들어갈 수 있게 해줌</li>
<li>예
<ul>
<li>
<p>enum SomeType {<br/>
struct_1() // size = 3 byte,<br/>
struct_2() // size = 5 byte,<br/>
struct_3() // size = 1 byte,<br/>
}</p>
</li>
<li>
<p>SomeType의 data 크기는 5 byte</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>즉, enum 내에 전혀 다른 data 크기의 값을 열거 할 수 있으며, 해당 enum의 data 크기는 열거된 원소 중 가장 큰 data size로 결정된다는 의미</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>enum PoisonType {</span></span>
<span data-line><span>    Acidic,</span></span>
<span data-line><span>    Painful,</span></span>
<span data-line><span>    Lethal,</span></span>
<span data-line><span>}</span></span>
<span data-line><span>enum Size {</span></span>
<span data-line><span>    Big,</span></span>
<span data-line><span>    Small,</span></span>
<span data-line><span>}</span></span>
<span data-line><span>enum Weapon {</span></span>
<span data-line><span>    Claw(i32, Size),</span></span>
<span data-line><span>    Poison(PoisonType),</span></span>
<span data-line><span>    None,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>struct SeaCreature {</span></span>
<span data-line><span>    species: Species,</span></span>
<span data-line><span>    name: String,</span></span>
<span data-line><span>    arms: i32,</span></span>
<span data-line><span>    legs: i32,</span></span>
<span data-line><span>    weapon: Weapon,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    // SeaCreature의 데이터는 stack에 있음</span></span>
<span data-line><span>    let ferris = SeaCreature {</span></span>
<span data-line><span>        // String struct도 stack에 있지만,</span></span>
<span data-line><span>        // heap에 있는 데이터에 대한 참조를 갖고 있음</span></span>
<span data-line><span>        species: Species::Crab,</span></span>
<span data-line><span>        name: String::from(&quot;Ferris&quot;),</span></span>
<span data-line><span>        arms: 2,</span></span>
<span data-line><span>        legs: 4,</span></span>
<span data-line><span>        weapon: Weapon::Claw(2, Size::Small),</span></span>
<span data-line><span>    };</span></span>
<span data-line> </span>
<span data-line><span>    match ferris.species {</span></span>
<span data-line><span>        Species::Crab => match ferris.weapon {</span></span>
<span data-line><span>            Weapon::Claw(num_claws, size) => {</span></span>
<span data-line><span>                let size_description = match size {</span></span>
<span data-line><span>                    Size::Big => &quot;큰&quot;,</span></span>
<span data-line><span>                    Size::Small => &quot;작은&quot;,</span></span>
<span data-line><span>                };</span></span>
<span data-line><span>                println!(</span></span>
<span data-line><span>                    &quot;ferris는 {}개의 {} 집게를 가진 게이다&quot;,</span></span>
<span data-line><span>                    num_claws, size_description</span></span>
<span data-line><span>                )</span></span>
<span data-line><span>            }</span></span>
<span data-line><span>            _ => println!(&quot;ferris는 다른 무기를 가진 게이다&quot;),</span></span>
<span data-line><span>        },</span></span>
<span data-line><span>        _ => println!(&quot;ferris는 다른 동물이다&quot;),</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="3장---마무리"><a href="https://tourofrust.com/31_ko.html" class="external">3장 - 마무리<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#3장---마무리" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h1 id="4장---generic-자료형">4장 - Generic 자료형<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#4장---generic-자료형" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<h2 id="generic-자료형이란"><a href="https://tourofrust.com/33_ko.html" class="external">Generic 자료형이란?<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#generic-자료형이란" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>generic 자료형은 <code>struct</code>나 <code>enum</code>을 부분적으로 정의하여, <strong>컴파일러가 컴파일 타임</strong>에 코드 사용을 기반으로 완전히 정의된 버전을 만들 수 있게 해줍니다.
<ul>
<li><code>struct BagOfHolding&lt;T> { item: T, }</code></li>
</ul>
</li>
<li>Rust는 일반적으로 인스턴스화 하는 것을 보고 최종 자료형을 유추할 수 있습니다.
<ul>
<li><code>let float_bag = BagOfHolding { item: 3.14 };</code></li>
</ul>
</li>
<li>그러나<code>::&lt;T></code> 연산자를 사용해 언제든 명시적으로 자료형을 지정할 수 있습니다.
<ul>
<li><code>let i32_bag = BagOfHolding::&lt;i32> { item: 42 };</code></li>
</ul>
</li>
</ul>
<h2 id="아무-것도-없는-것을-표현하기--옵션"><a href="https://tourofrust.com/34_ko.html" class="external">아무 것도 없는 것을 표현하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> &amp; <a href="https://tourofrust.com/35_ko.html" class="external">옵션<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#아무-것도-없는-것을-표현하기--옵션" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>Rust에는 <code>null</code>이 없습니다.</li>
<li>한 개 이상의 선택 가능한 값에 대해 <code>None</code> 선택지를 제공하는 방법은 <code>null</code> 값이 없는 Rust에서 매우 흔한 패턴입니다.
<ul>
<li>
<p>실제 Rust에서 제공하는 generic enum : Option<t></t></p>
<ul>
<li>참조 : <a href="https://showx123.tistory.com/58" class="external">https://showx123.tistory.com/58<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li>T와 Option<t>는 다른Type</t></li>
<li>null pointer dereference와 같은 메모리 취약점을 없앨 수 있다.</li>
<li>Rust 컴파일러가 Option을 포인터로 컴파일 타임에 변환, 런타임 오버헤드는 사실상 0</li>
<li>Enume은 원소 중 가장 큰 type의 사이즈를 갖도록 구현되어 있기 때문에 포인터의 사이즈(32비트면 4바이트, 64비트면 8바이트)보다 작은 타입의 경우 메모리를 아주 조금 낭비하게 됨.</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>enum Option&lt;T> {</span></span>
<span data-line><span>    Some(T),</span></span>
<span data-line><span>    None,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>struct BagOfHolding {</span></span>
<span data-line><span>    item: Option&lt;Inventory>,</span></span>
<span data-line><span>}</span></span></code></pre></figure>
</li>
</ul>
</li>
</ul>
<h2 id="결과"><a href="https://tourofrust.com/36_ko.html" class="external">결과<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#결과" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>Rust에는 실패할 가능성이 있는 값을 리턴할 수 있도록 해주는 <code>Result</code>라 불리는 내장된 generic enum</p>
<ul>
<li>Rust에서 오류 처리를 하는 관용적인 방법</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>enum Result&lt;T, E> {</span></span>
<span data-line><span>    Ok(T),</span></span>
<span data-line><span>    Err(E),</span></span>
<span data-line><span>}</span></span></code></pre></figure>
</li>
<li>
<p>아래 코드를 돌려보면 “Standard Error”로 결과가 출력된다.</p>
<ul>
<li>단순한 ‘표현’이 아닌듯.. throw exception 같은 표현일까?</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn do_something_that_might_fail(i: i32) -> Result&lt;f32, String> {</span></span>
<span data-line><span>    if i == 42 {</span></span>
<span data-line><span>        Ok(13.0)</span></span>
<span data-line><span>    } else {</span></span>
<span data-line><span>        Err(String::from(&quot;맞는 숫자가 아닙니다&quot;))</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let result = do_something_that_might_fail(12);</span></span>
<span data-line> </span>
<span data-line><span>    // match는 Result를 우아하게 분해하고, 모든 케이스를 처리하도록 해준다!</span></span>
<span data-line><span>    match result {</span></span>
<span data-line><span>        Ok(v) => println!(&quot;{} 발견&quot;, v),</span></span>
<span data-line><span>        Err(e) => println!(&quot;오류: {}&quot;, e),</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span></code></pre></figure>
</li>
</ul>
<h2 id="실패할-수-있는-메인"><a href="https://tourofrust.com/37_ko.html" class="external">실패할 수 있는 메인<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#실패할-수-있는-메인" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>main 은 Result를 반환할 수 있음</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn do_something_that_might_fail(i: i32) -> Result&lt;f32, String> {</span></span>
<span data-line><span>    if i == 42 {</span></span>
<span data-line><span>        Ok(13.0)</span></span>
<span data-line><span>    } else {</span></span>
<span data-line><span>        Err(String::from(&quot;맞는 숫자가 아닙니다&quot;))</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>// Main은 아무 값도 리턴하지 않지만, 오류를 리턴할 수 있다!</span></span>
<span data-line><span>fn main() -> Result&lt;(), String> {</span></span>
<span data-line><span>    let result = do_something_that_might_fail(12);</span></span>
<span data-line> </span>
<span data-line><span>    match result {</span></span>
<span data-line><span>        Ok(v) => println!(&quot;{} 발견&quot;, v),</span></span>
<span data-line><span>        Err(_e) => {</span></span>
<span data-line><span>            // 이 오류를 우아하게 처리한다</span></span>
<span data-line> </span>
<span data-line><span>            // main으로부터 무슨 일이 발생했는지 새 오류를 리턴한다!</span></span>
<span data-line><span>            return Err(String::from(&quot;main에서 뭔가 잘못 되었습니다!&quot;));</span></span>
<span data-line><span>        }</span></span>
<span data-line><span>    }</span></span>
<span data-line> </span>
<span data-line><span>    // 모든 일이 잘 끝났음을 표현하기 위해</span></span>
<span data-line><span>    // Result Ok 안에 unit 값을 쓰고 있는걸 잘 봐두십시오</span></span>
<span data-line><span>    Ok(())</span></span>
<span data-line><span>}</span></span></code></pre></figure>
</li>
</ul>
<h2 id="우아한-오류-처리"><a href="https://tourofrust.com/38_ko.html" class="external">우아한 오류 처리<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#우아한-오류-처리" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p><code>Result</code>와 함께 쓸 수 있는 강력한 연산자 <code>?</code></p>
<ul>
<li>match ~ 문을 이용한 예외처리를 <code>?</code> 로 대체할 수 있음</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn do_something_that_might_fail(i: i32) -> Result&lt;f32, String> {</span></span>
<span data-line><span>    if i == 42 {</span></span>
<span data-line><span>        Ok(13.0)</span></span>
<span data-line><span>    } else {</span></span>
<span data-line><span>        Err(String::from(&quot;맞는 숫자가 아닙니다&quot;))</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() -> Result&lt;(), String> {</span></span>
<span data-line><span>    // 얼마나 코드를 줄였는지 보세요!</span></span>
<span data-line><span>    let v = do_something_that_might_fail(42)?;</span></span>
<span data-line><span>    println!(&quot;{} 발견&quot;, v);</span></span>
<span data-line><span>    Ok(())</span></span>
<span data-line><span>}</span></span></code></pre></figure>
</li>
</ul>
<h2 id="추한-옵션결과-처리"><a href="https://tourofrust.com/39_ko.html" class="external">추한 옵션/결과 처리<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#추한-옵션결과-처리" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>nullable, OK/Err 반환에 대한 예외 처리를 아래와 같이 간결하게 사용 가능
<ul>
<li>nullable
<ul>
<li>
<p>기존</p>
<p><code>match my_option { Some(v) => v, None => panic!(&quot;some error message generated by Rust!&quot;), }</code></p>
</li>
<li>
<p>unwrap 사용</p>
<p><code>let v = my_option.unwrap()</code></p>
</li>
</ul>
</li>
<li>OK / Err
<ul>
<li>
<p>기존</p>
<p><code>match my_result { Ok(v) => v, Err(e) => panic!(&quot;some error message generated by Rust!&quot;), }</code></p>
</li>
<li>
<p>unrwap 사용</p>
<p><code>let v = my_result.unwrap()</code></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="벡터"><a href="https://tourofrust.com/40_ko.html" class="external">벡터<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#벡터" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>Vec
<ul>
<li>struct로 표현되는 가변 크기의 리스트</li>
<li>struct이나, 내부적으로는 내용물이 heap에 있는 고정 리스트에 대한 참조를 포함</li>
<li>기본 용량을 갖고 시작</li>
<li><strong>용량보다 많은 내용물이 추가될 경우, 큰 용량을 가진 새 고정 리스트를 위해 heap에 데이터를 재할당</strong></li>
</ul>
</li>
<li><code>vec!</code>
<ul>
<li>vector를 수동으로 일일이 만드는 대신, 손쉽게 생성할 수 있게 해줌</li>
</ul>
</li>
<li><code>.iter()</code>
<ul>
<li><code>for</code> 반복문에 손쉽게 넣을 수 있도록 vector로부터 반복자를 생성하는 메소드</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    // 자료형을 명시적으로 할 수 있음</span></span>
<span data-line><span>    let mut i32_vec = Vec::&lt;i32>::new(); // turbofish &lt;3</span></span>
<span data-line><span>    i32_vec.push(1);</span></span>
<span data-line><span>    i32_vec.push(2);</span></span>
<span data-line><span>    i32_vec.push(3);</span></span>
<span data-line> </span>
<span data-line><span>    // 하지만 Rust가 얼마나 똑똑하게 자료형을 자동으로 결정하는지 보십시오</span></span>
<span data-line><span>    let mut float_vec = Vec::new();</span></span>
<span data-line><span>    float_vec.push(1.3);</span></span>
<span data-line><span>    float_vec.push(2.3);</span></span>
<span data-line><span>    float_vec.push(3.4);</span></span>
<span data-line> </span>
<span data-line><span>    // 아름다운 macro입니다!</span></span>
<span data-line><span>    let string_vec = vec![String::from(&quot;Hello&quot;), String::from(&quot;World&quot;)];</span></span>
<span data-line> </span>
<span data-line><span>    for word in string_vec.iter() {</span></span>
<span data-line><span>        println!(&quot;{}&quot;, word);</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="4장---마무리"><a href="https://tourofrust.com/41_ko.html" class="external">4장 - 마무리<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#4장---마무리" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h1 id="5장---소유권과-데이터-대여">5장 - 소유권과 데이터 대여<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#5장---소유권과-데이터-대여" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<h2 id="소유권"><a href="https://tourofrust.com/43_ko.html" class="external">소유권<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#소유권" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><strong>할당(binding)</strong>
<ul>
<li>자료형을 인스턴스화 하여 변수명에 하는 행위</li>
<li>Rust 컴파일러가 전체 **생명주기(lifetime)**동안 검증할 메모리 리소스를 생성하는 것</li>
<li>할당된 변수는 리소스의 **소유자(owner)**라고 불립니다.</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct Foo {</span></span>
<span data-line><span>    x: i32,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    // struct를 인스턴스화 하고 변수에 bind하여</span></span>
<span data-line><span>    // 메모리 리소스를 생성함</span></span>
<span data-line><span>    let foo = Foo { x: 42 };</span></span>
<span data-line><span>    // foo가 owner임</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="범위-기반-리소스-관리"><a href="https://tourofrust.com/44_ko.html" class="external">범위 기반 리소스 관리<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#범위-기반-리소스-관리" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>Rust는 범위(scope)가 끝나는 곳에서 리소스를 소멸하고 할당 해제합니다.</li>
<li>이 소멸과 할당 해제를 의미하는 용어로 <strong>drop</strong>을 사용합니다.</li>
<li>Rust에는 가비지 컬렉션이 없습니다.</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct Foo {</span></span>
<span data-line><span>    x: i32,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let foo_a = Foo { x: 42 };</span></span>
<span data-line><span>    let foo_b = Foo { x: 13 };</span></span>
<span data-line> </span>
<span data-line><span>    println!(&quot;{}&quot;, foo_a.x);</span></span>
<span data-line> </span>
<span data-line><span>    println!(&quot;{}&quot;, foo_b.x);</span></span>
<span data-line><span>    // foo_b가 여기서 drop 됩니다</span></span>
<span data-line><span>    // foo_a가 여기서 drop 됩니다</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="dropping은-계층적이다"><a href="https://tourofrust.com/45_ko.html" class="external">Dropping은 계층적이다<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#dropping은-계층적이다" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>struct가 drop 될 때
<ul>
<li>struct 자신이 제일 먼저 drop 됩니다</li>
<li>이후에 그 자식들이 각각 drop 되며, 등의 순서대로 처리됩니다.</li>
</ul>
</li>
<li>Rust에서는 메모리를 자동으로 해제함으로써 메모리 누수가 덜 일어나도록 합니다.
<ul>
<li><strong>자식들이 포인터 형인 경우에도, heap에 있을 경우에도 알아서 해제해줄까?</strong></li>
</ul>
</li>
<li>메모리 리소스는 단 한 번 drop 될 수 있습니다.</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct Bar {</span></span>
<span data-line><span>    x: i32,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>struct Foo {</span></span>
<span data-line><span>    bar: Bar,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let foo = Foo { bar: Bar { x: 42 } };</span></span>
<span data-line><span>    println!(&quot;{}&quot;, foo.bar.x);</span></span>
<span data-line><span>    // foo가 먼저 drop 되고</span></span>
<span data-line><span>    // 그 다음에 foo.bar가 drop 됩니다</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="소유권-이전"><a href="https://tourofrust.com/46_ko.html" class="external">소유권 이전<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#소유권-이전" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>owner가 함수의 인자로 전달되면, ownership은 그 함수의 매개변수로 이동(move)됩니다.</li>
<li><strong>move</strong> 이후에는 원래 함수에 있던 변수는 더 이상 사용할 수 없습니다.
<ul>
<li><strong>move</strong> 중에는 owner 값의 stack 메모리가 함수 호출의 매개변수 stack 메모리로 복사됩니다.</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct Foo {</span></span>
<span data-line><span>    x: i32,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn do_something(f: Foo) {</span></span>
<span data-line><span>    println!(&quot;{}&quot;, f.x);</span></span>
<span data-line><span>    // f가 여기서 drop 됩니다</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let foo = Foo { x: 42 };</span></span>
<span data-line><span>    // foo가 do_something으로 move 됩니다</span></span>
<span data-line><span>    do_something(foo);</span></span>
<span data-line><span>    // foo는 더 이상 사용할 수 없습니다</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="소유권-리턴하기"><a href="https://tourofrust.com/47_ko.html" class="external">소유권 리턴하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#소유권-리턴하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>ownership은 함수에서도 리턴될 수 있습니다.
<ul>
<li>기존 c++, c#에서는 포인터가 아닌 이상 값의 복사가 일어 났는데, 러스트는 기본적으로 메모리 주소 자체를 아에 넘겨버리는 것으로 보임</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct Foo {</span></span>
<span data-line><span>    x: i32,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn do_something() -> Foo {</span></span>
<span data-line><span>    Foo { x: 42 }</span></span>
<span data-line><span>    // ownership이 밖으로 move 됩니다</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let foo = do_something();</span></span>
<span data-line><span>    // foo가 owner가 되었습니다</span></span>
<span data-line><span>    // 함수의 scope 끝에 도달했기 때문에 foo는 drop 됩니다</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="참조로-소유권-대여하기"><a href="https://tourofrust.com/48_ko.html" class="external">참조로 소유권 대여하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#참조로-소유권-대여하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><code>&amp;</code> 연산자를 통해 참조로 리소스에 대한 접근권한을 대여할 수 있습니다.
<ul>
<li>참조도 다른 리소스와 마찬가지로 drop 됩니다.</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct Foo {</span></span>
<span data-line><span>    x: i32,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let foo = Foo { x: 42 };</span></span>
<span data-line><span>    let f = &amp;foo;</span></span>
<span data-line><span>    println!(&quot;{}&quot;, f.x);</span></span>
<span data-line><span>    // f는 여기서 drop 됩니다</span></span>
<span data-line><span>    // foo는 여기서 drop 됩니다</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="참조로-변경-가능한-소유권-대여하기"><a href="https://tourofrust.com/49_ko.html" class="external">참조로 변경 가능한 소유권 대여하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#참조로-변경-가능한-소유권-대여하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p><code>&amp;mut</code> 연산자를 통해 리소스에 대한 mutable한 접근 권한도 대여할 수 있습니다.</p>
<ul>
<li>리소스의 owner는 mutable하게 대여된 상태에서는 move 되거나 변경될 수 없습니다.</li>
<li>Rust는 데이터 경합의 가능성 때문에 소유된 값을 변경하는 방법이 여러 개 생기는 것을 방지합니다.</li>
</ul>
<p>→ 소유권을 대여해주면, 원래의 소유권을 가졌던 참조는 소유권이 반환될 때까지 변경 권한을 잃는다.</p>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct Foo {</span></span>
<span data-line><span>    x: i32,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn do_something(f: Foo) {</span></span>
<span data-line><span>    println!(&quot;{}&quot;, f.x);</span></span>
<span data-line><span>    // f는 여기서 drop 됩니다</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let mut foo = Foo { x: 42 };</span></span>
<span data-line><span>    let f = &amp;mut foo;</span></span>
<span data-line> </span>
<span data-line><span>    // FAILURE: do_something(foo) 은 실패할 것입니다</span></span>
<span data-line><span>    // 왜냐하면 foo는 mutable하게 borrow된 상태에서는 move될 수 없기 때문입니다</span></span>
<span data-line> </span>
<span data-line><span>    // FAILURE: foo.x = 13; 는 여기서 실패할 것입니다</span></span>
<span data-line><span>    // 왜냐하면 foo는 mutable하게 borrow된 상태에서는 변경할 수 없기 때문입니다</span></span>
<span data-line> </span>
<span data-line><span>    f.x = 13;</span></span>
<span data-line><span>    // f는 이 시점 이후 더 이상 사용되지 않기 때문에 여기서 drop 됩니다</span></span>
<span data-line> </span>
<span data-line><span>    println!(&quot;{}&quot;, foo.x);</span></span>
<span data-line> </span>
<span data-line><span>    // 모든 mutable 참조가 drop 되었으므로 이제 문제 없이 동작합니다</span></span>
<span data-line><span>    foo.x = 7;</span></span>
<span data-line> </span>
<span data-line><span>    // foo의 ownership을 함수로 move 합니다</span></span>
<span data-line><span>    do_something(foo);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="역참조"><a href="https://tourofrust.com/50_ko.html" class="external">역참조<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#역참조" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><code>&amp;mut</code> 참조를 이용해 <code>*</code> 연산자로 owner의 값을 설정할 수 있습니다.</li>
<li><code>*</code> 연산자로 own된 값의 복사본도 가져올 수 있습니다 (복사 가능한 경우만)</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let mut foo = 42;</span></span>
<span data-line><span>    let f = &amp;mut foo;</span></span>
<span data-line><span>    let bar = *f; // owner의 값의 복사본을 가져옴</span></span>
<span data-line><span>    *f = 13; // 참조의 owner의 값을 설정함</span></span>
<span data-line><span>    println!(&quot;{}&quot;, bar);</span></span>
<span data-line><span>    println!(&quot;{}&quot;, foo);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="대여한-데이터-전달하기"><a href="https://tourofrust.com/51_ko.html" class="external">대여한 데이터 전달하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#대여한-데이터-전달하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>Rust의 참조 규칙은 다음과 같이 요약될 수 있습니다:
<ul>
<li>Rust는 단 하나의 mutable한 참조 <strong>또는</strong> 여러개의 non-mutable 참조만 허용하며, <strong>둘 다는 안됨</strong>.</li>
<li>참조는 그 owner보다 <strong>더 오래 살</strong> 수 없음.</li>
</ul>
</li>
<li>첫 번째 참조 규칙은 데이터 경합을 방지합니다.
<ul>
<li>데이터를 읽는 행위가 동시에 데이터를 쓰는 이의 존재로 인해 동기화가 어긋날 가능성이 있을 때 일어납니다.</li>
</ul>
</li>
<li>두 번째 참조 규칙은 존재하지 않는 데이터를 바라보는 잘못된 참조를 사용하는 것을 방지
<ul>
<li>이를 C에서는 허상 포인터(dangling pointers)라고 부름</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct Foo {</span></span>
<span data-line><span>    x: i32,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn do_something(f: &amp;mut Foo) {</span></span>
<span data-line><span>    f.x += 1;</span></span>
<span data-line><span>    // mutable 참조 f는 여기서 drop 됩니다</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let mut foo = Foo { x: 42 };</span></span>
<span data-line><span>    do_something(&amp;mut foo);</span></span>
<span data-line><span>    // 모든 mutable 참조가 do_something 함수 내에서 drop 되므로,</span></span>
<span data-line><span>    // 하나 더 생성할 수 있습니다.</span></span>
<span data-line><span>    do_something(&amp;mut foo);</span></span>
<span data-line><span>    // foo는 여기서 drop 됩니다</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="참조의-참조"><a href="https://tourofrust.com/52_ko.html" class="external">참조의 참조<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#참조의-참조" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>참조는 심지어 참조에도 사용될 수 있습니다.</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct Foo {</span></span>
<span data-line><span>    x: i32,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn do_something(a: &amp;Foo) -> &amp;i32 {</span></span>
<span data-line><span>    return &amp;a.x;</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let mut foo = Foo { x: 42 };</span></span>
<span data-line><span>    let x = &amp;mut foo.x;</span></span>
<span data-line><span>    *x = 13;</span></span>
<span data-line><span>    // 여기서 x가 drop 되어 non-mutable 참조를 생성할 수 있습니다</span></span>
<span data-line><span>    let y = do_something(&amp;foo);</span></span>
<span data-line><span>    println!(&quot;{}&quot;, y);</span></span>
<span data-line><span>    // y는 여기서 drop 됩니다</span></span>
<span data-line><span>    // foo는 여기서 drop 됩니다</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="명시적인-생명주기"><a href="https://tourofrust.com/53_ko.html" class="external">명시적인 생명주기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#명시적인-생명주기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>Rust 컴파일러는 모든 변수의 lifetime을 이해하며 참조가 절대로 그 owner보다 더 오래 존재하지 못하도록 검증을 시도합니다.</li>
<li>함수에서는 어떤 매개변수와 리턴 값이 서로 같은 lifetime을 공유하는지 식별할 수 있도록 심볼로 표시하여 명시적으로 생명주기를 지정할 수 있습니다.</li>
<li>lifetime 지정자는 언제나 <code>'</code>로 시작합니다. (예: <code>'a</code>, <code>'b</code>, <code>'c</code>)</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct Foo {</span></span>
<span data-line><span>    x: i32,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>// 매개변수 foo와 리턴 값은 동일한 lifetime을 공유함</span></span>
<span data-line><span>fn do_something&lt;'a>(foo: &amp;'a Foo) -> &amp;'a i32 {</span></span>
<span data-line><span>    return &amp;foo.x;</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let mut foo = Foo { x: 42 };</span></span>
<span data-line><span>    let x = &amp;mut foo.x;</span></span>
<span data-line><span>    *x = 13;</span></span>
<span data-line><span>    // x가 여기서 drop 되어, non-mutable 참조를 생성할 수 있음</span></span>
<span data-line><span>    let y = do_something(&amp;foo);</span></span>
<span data-line><span>    println!(&quot;{}&quot;, y);</span></span>
<span data-line><span>    // y는 여기서 drop 됨</span></span>
<span data-line><span>    // foo는 여기서 drop 됨</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="여러-개의-생명주기"><a href="https://tourofrust.com/54_ko.html" class="external">여러 개의 생명주기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#여러-개의-생명주기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>lifetime 지정자는 컴파일러가 스스로 함수 매개변수들의 lifetime을 판별하지 못하는 경우, 이를 명시적으로 지정할 수 있게 도와줍니다.
<ul>
<li>아래 코드에서 <code>‘</code> 를 제외하면 에러 발생</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct Foo {</span></span>
<span data-line><span>    x: i32,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>// foo_b와 리턴 값은 동일한 lifetime을 공유함</span></span>
<span data-line><span>// foo_a는 무관한 lifetime을 가짐</span></span>
<span data-line><span>fn do_something&lt;'a, 'b>(foo_a: &amp;'a Foo, foo_b: &amp;'b Foo) -> &amp;'b i32 {</span></span>
<span data-line><span>    println!(&quot;{}&quot;, foo_a.x);</span></span>
<span data-line><span>    println!(&quot;{}&quot;, foo_b.x);</span></span>
<span data-line><span>    return &amp;foo_b.x;</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let foo_a = Foo { x: 42 };</span></span>
<span data-line><span>    let foo_b = Foo { x: 12 };</span></span>
<span data-line><span>    let x = do_something(&amp;foo_a, &amp;foo_b);</span></span>
<span data-line><span>    // 여기 이후에는 foo_b의 lifetime만 존재하므로 foo_a만 drop 됨</span></span>
<span data-line><span>    println!(&quot;{}&quot;, x);</span></span>
<span data-line><span>    // 여기서 x가 drop 됨</span></span>
<span data-line><span>    // 여기서 foo_b가 drop 됨</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="정적인-생명주기"><a href="https://tourofrust.com/55_ko.html" class="external">정적인 생명주기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#정적인-생명주기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><strong>static</strong> 변수는 컴파일 타임에 생성되어 프로그램의 시작부터 끝까지 존재하는 메모리 리소스입니다.
<ul>
<li>이들은 명시적으로 자료형을 지정해 주어야 합니다.</li>
</ul>
</li>
<li><strong>static lifetime</strong>은 프로그램이 끝날 때까지 무한정 유지되는 메모리 리소스입니다.
<ul>
<li>이 정의에 따르면, 어떤 static lifetime의 리소스는 런타임에 생성될 수도 있습니다.</li>
<li>static lifetime을 가진 리소스는 <code>'static</code>이라는 특별한 lifetime 지정자를 갖습니다.</li>
<li><code>'static</code>한 리소스는 절대 <strong>drop</strong> 되지 않습니다.</li>
<li>static lifetime을 가진 리소스가 참조를 포함하는 경우, 그들도 모두 <code>'static</code>이어야 합니다
<ul>
<li>그 이하의 것들은 충분히 오래 살아남지 못합니다</li>
</ul>
</li>
</ul>
</li>
<li>static 변수는 어느 누구에 의해서든 전역적으로 접근 가능하기 때문에, 이를 변경하는 것은 데이터 경합을 유발하는, 본질적으로 위험한 행위입니다.</li>
<li>Rust에서는 <code>unsafe { ... }</code> 블록을 이용하여 특정 동작에 대해 컴파일러가 메모리 검사를 하지 않도록 할 수 있습니다.
<ul>
<li>없을 경우 : <code>error</code><a href="https://doc.rust-lang.org/stable/error_codes/E0133.html" class="external"><code>[E0133]</code><svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><code>: use of mutable static is unsafe and requires unsafe function or block</code></li>
<li>아래 예제의 경우, unsafe를 없애면 <code>SECRET = &quot;abracadabra&quot;;</code>와 <code>println!(&quot;{}&quot;, SECRET);</code>에 모두 오류가 발생</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>static PI: f64 = 3.1415;</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    // static 변수는 함수 scope 안에도 넣을 수 있습니다</span></span>
<span data-line><span>    static mut SECRET: &amp;'static str = &quot;swordfish&quot;;</span></span>
<span data-line> </span>
<span data-line><span>    // string 값들은 'static lifetime을 갖습니다</span></span>
<span data-line><span>    let msg: &amp;'static str = &quot;Hello World!&quot;;</span></span>
<span data-line><span>    let p: &amp;'static f64 = &amp;PI;</span></span>
<span data-line><span>    println!(&quot;{} {}&quot;, msg, p);</span></span>
<span data-line> </span>
<span data-line><span>    // 일부 규칙은 깰 수 있으나, 반드시 명시적으로 해야 합니다</span></span>
<span data-line><span>    unsafe {</span></span>
<span data-line><span>        // SECRET에 string 값을 설정할 수 있는데, 이 값 역시 'static이기 때문입니다</span></span>
<span data-line><span>        SECRET = &quot;abracadabra&quot;;</span></span>
<span data-line><span>        println!(&quot;{}&quot;, SECRET);</span></span>
<span data-line><span>    }</span></span></code></pre></figure>
<h2 id="데이터-자료형의-생명주기"><a href="https://tourofrust.com/56_ko.html" class="external">데이터 자료형의 생명주기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#데이터-자료형의-생명주기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>함수와 마찬가지로, <strong>데이터 자료형의 구성원들도 lifetime 지정자로 지정할 수 있습니다.</strong></li>
<li><strong>Rust는 참조가 품고 있는 데이터 구조가 참조가 가리키는 owner보다 절대 오래 살아남지 못하도록 검증합니다.</strong></li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct Foo&lt;'a> {</span></span>
<span data-line><span>    i:&amp;'a i32</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let x = 42;</span></span>
<span data-line><span>    let foo = Foo {</span></span>
<span data-line><span>        i: &amp;x</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    println!(&quot;{}&quot;,foo.i);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="5장---마무리"><a href="https://tourofrust.com/57_ko.html" class="external">5장 - 마무리<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#5장---마무리" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h1 id="6장---텍스트">6장 - 텍스트<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#6장---텍스트" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<h2 id="문자열"><a href="https://tourofrust.com/59_ko.html" class="external">문자열<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#문자열" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>언제나 유니코드로 되어 있음</li>
<li>문자열의 자료형은 <code>&amp;'static str</code>입니다:
<ul>
<li><code>&amp;</code>는 메모리 내의 장소를 참조하고 있다는 의미</li>
<li><code>&amp;mut</code>가 빠졌다는 것은 컴파일러가 값의 변경을 허용하지 않을 것이라는 뜻</li>
<li><code>'static</code>은 string 데이터가 프로그램이 끝날 때까지 유효하다는 의미(절대 drop 되지 않음)</li>
<li><code>str</code>은 언제나 유효한 <strong>utf-8</strong>인 바이트 열을 가리키고 있다는 의미</li>
</ul>
</li>
<li>Rust 컴파일러는 문자열을 프로그램 메모리의 데이터 세그먼트에 저장</li>
<li><code>let a: &amp;'static str = &quot;hi 🦀&quot;;</code></li>
</ul>
<h2 id="utf-8이란-무엇인가"><a href="https://tourofrust.com/60_ko.html" class="external">utf-8이란 무엇인가<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#utf-8이란-무엇인가" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><strong>utf-8</strong>은 1에서 4 바이트의 가변 길이 바이트로 도입 되었음
<ul>
<li>사용 가능한 문자의 범위를 엄청나게 늘어남</li>
<li>ASCII 문자에 쓸데 없는 바이트를 필요로 하지 않음(<strong>utf-8</strong>에서도 여전히 1 바이트만 필요로 함)</li>
<li>단순한 인덱싱(예: <code>my_text[3]</code>으로 네 번째 문자를 가져옴)시, <strong>O(1)</strong> 상수 시간으로 문자를 찾을 수 없음
<ul>
<li>바로 앞의 글자가 가변 길이를 가질 수 있으므로, 바이트 열에서 4번째 문자가 실제로 시작하는 위치가 달라질 수도 있음</li>
<li><strong>utf-8</strong> 바이트 열을 하나하나 돌면서 각각의 유니코드 문자가 실제로 어디에서 시작하는지 찾아야 함 (<strong>O(n)</strong> 선형 시간)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="예외처리문자"><a href="https://tourofrust.com/61_ko.html" class="external">예외처리문자<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#예외처리문자" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>어떤 문자들은 시각적으로 표현하기 어려우므로, <strong>예외처리 코드(escape code)</strong> 로 대체하여 사용</p>
</li>
<li>
<p>Rust는 C 기반 언어들의 일반적인 예외처리 코드를 지원</p>
<ul>
<li><code>\n</code> - 줄바꿈</li>
<li><code>\r</code> - 캐리지리턴</li>
<li><code>\t</code> - 탭</li>
<li><code>\\</code> - 역슬래시</li>
<li><code>\0</code> - null</li>
<li><code>\'</code> - 작은 따옴표</li>
</ul>
<p>→ 전체 목록은 <a href="https://doc.rust-lang.org/reference/tokens.html" class="external">이곳<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>에서</p>
</li>
</ul>
<h2 id="여러-줄로-된-문자열"><a href="https://tourofrust.com/62_ko.html" class="external">여러 줄로 된 문자열<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#여러-줄로-된-문자열" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>Rust의 문자열은 기본적으로 여러 줄로 되어 있음</li>
<li>줄바꿈 문자를 원하지 않을 경우, 줄 맨 뒤에 <code>\</code>를 사용</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let haiku: &amp;'static str = &quot;</span></span>
<span data-line><span>        나는 쓰고, 지우고, 다시 쓴다</span></span>
<span data-line><span>        다시 지우고, 그러고 나면</span></span>
<span data-line><span>        양귀비 꽃이 핀다.</span></span>
<span data-line><span>        - 가쓰시카 호쿠사이&quot;;</span></span>
<span data-line><span>    println!(&quot;{}&quot;, haiku);</span></span>
<span data-line> </span>
<span data-line><span>    println!(</span></span>
<span data-line><span>        &quot;hello \</span></span>
<span data-line><span>    world&quot;</span></span>
<span data-line><span>    ) // w 앞의 공백이 무시 되었음을 주의하세요</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="원시-문자열"><a href="https://tourofrust.com/63_ko.html" class="external">원시 문자열<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#원시-문자열" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><code>r#&quot;</code>로 시작하고 <code>&quot;#</code>로 끝남</li>
<li>문자열을 있는 그대로 쓸 수 있음
<ul>
<li>큰 따옴표나 역슬래시 같은 문자들을 바로 사용할 수 있음</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let a: &amp;'static str = r#&quot;</span></span>
<span data-line><span>        &lt;div class=&quot;advice&quot;></span></span>
<span data-line><span>            원시 문자열은 일부 상황에서 유용합니다.</span></span>
<span data-line><span>        &lt;/div></span></span>
<span data-line><span>        &quot;#;</span></span>
<span data-line><span>    println!(&quot;{}&quot;, a);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="파일에서-문자열-가져오기"><a href="https://tourofrust.com/64_ko.html" class="external">파일에서 문자열 가져오기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#파일에서-문자열-가져오기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><code>include_str!</code> macro를 사용하여 local에 있는 문자열을 가져올 수 있음
<ul>
<li><code>let 00_html = include_str!(&quot;00_ko.html&quot;);</code></li>
</ul>
</li>
</ul>
<h2 id="문자열-슬라이스"><a href="https://tourofrust.com/65_ko.html" class="external">문자열 슬라이스<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#문자열-슬라이스" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>문자열 slice는 메모리 상의 바이트 열에 대한 참조
<ul>
<li>utf-8의 특성 상, char에 대한 index 접근과 다르다.</li>
<li>slice의 문자열 slice (sub-slice)도 역시 유효한 utf-8이어야 함
<ul>
<li>slice의 결과물이 문자열을 만들 지 못할 때 EROR</li>
</ul>
</li>
</ul>
</li>
<li>흔히 사용되는 메소드
<ul>
<li><code>len</code>은 문자열의 바이트 길이(글자수가 아님)</li>
<li><code>starts_with</code>/<code>ends_with</code>는 기본적인 비교에 사용</li>
<li><code>is_empty</code>는 길이가 0일 경우 true를 반환</li>
<li><code>find</code>는 주어진 텍스트가 처음 등장 하는 위치인 <code>Option&lt;usize></code> 값을 반환</li>
</ul>
</li>
</ul>
<h2 id="문자"><a href="https://tourofrust.com/66_ko.html" class="external">문자<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#문자" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>utf-8 바이트 열을 <code>char</code> 자료형의 vector로 돌려주는 기능을 제공</li>
<li><code>char</code> 하나는 4 바이트(각각의 문자를 효율적으로 찾을 수 있음)</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    // 문자들을 char의 vector로 가져옵니다</span></span>
<span data-line><span>    let chars = &quot;hi 🦀&quot;.chars().collect::&lt;Vec&lt;char>>();</span></span>
<span data-line> </span>
<span data-line><span>    println!(&quot;{}&quot;, chars.len()); // 4여야 합니다</span></span>
<span data-line> </span>
<span data-line><span>    // char가 4 바이트이므로 u32로 변환할 수 있습니다</span></span>
<span data-line><span>    println!(&quot;{}&quot;, chars[3] as u32);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="스트링"><a href="https://tourofrust.com/67_ko.html" class="external">스트링<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#스트링" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><strong>String</strong>은 utf-8 바이트 열을 heap memory에 소유하는 struct</li>
<li>heap에 있기 때문에, 문자열과는 달리 늘리거나 변경하거나 기타 등등을 할 수 있음</li>
<li><code>push_str</code>은 string의 맨 뒤에 utf-8 바이트들을 더 붙일 때 사용</li>
<li><code>replace</code>는 utf-8 바이트 열을 다른 것으로 교체할 때 사용</li>
<li><code>to_lowercase</code>/<code>to_uppercase</code>는 대소문자를 바꿀 때 사용</li>
<li><code>trim</code>은 공백을 제거할 때 사용</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let mut helloworld = String::from(&quot;hello&quot;);</span></span>
<span data-line><span>    helloworld.push_str(&quot; world&quot;);</span></span>
<span data-line><span>    helloworld = helloworld + &quot;!&quot;;</span></span>
<span data-line><span>    println!(&quot;{}&quot;, helloworld);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="함수의-매개변수로서의-텍스트"><a href="https://tourofrust.com/68_ko.html" class="external">함수의 매개변수로서의 텍스트<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#함수의-매개변수로서의-텍스트" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>문자열과 string은 일반적으로 함수에 문자열 slice 형태로 전달</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn say_it_loud(msg: &amp;str) {</span></span>
<span data-line><span>    println!(&quot;{}!!!&quot;, msg.to_string().to_uppercase());</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    // say_it_loud는 &amp;'static str을 &amp;str로 대여할 수 있습니다</span></span>
<span data-line><span>    say_it_loud(&quot;hello&quot;);</span></span>
<span data-line><span>    // say_it_loud는 또한 String을 &amp;str로 대여할 수 있습니다</span></span>
<span data-line><span>    say_it_loud(&amp;String::from(&quot;goodbye&quot;));</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="스트링-만들기"><a href="https://tourofrust.com/69_ko.html" class="external">스트링 만들기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#스트링-만들기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><code>concat</code>과 <code>join</code>은 string을 만드는 간단하지만 강력한 방법</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let helloworld = [&quot;hello&quot;, &quot; &quot;, &quot;world&quot;, &quot;!&quot;].concat();</span></span>
<span data-line><span>    let abc = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;].join(&quot;,&quot;);</span></span>
<span data-line><span>    println!(&quot;{}&quot;, helloworld);</span></span>
<span data-line><span>    println!(&quot;{}&quot;,abc);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<p>→ hello world!<br/>
→ a,b,c</p>
<h2 id="스트링-양식-만들기"><a href="https://tourofrust.com/70_ko.html" class="external">스트링 양식 만들기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#스트링-양식-만들기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><code>format!</code> macro는 값이 어디에 어떻게 놓일지 매개변수화 된 (예: <code>{}</code>) string을 정의하여 string을 생성</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let a = 42;</span></span>
<span data-line><span>    let f = format!(&quot;삶, 우주, 그리고 모든 것에 대한 해답: {}&quot;, a);</span></span>
<span data-line><span>    println!(&quot;{}&quot;, f);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="스트링-변환"><a href="https://tourofrust.com/71_ko.html" class="external">스트링 변환<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#스트링-변환" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><code>to_string</code>을 이용하여 string으로 변환될 수 있음(모든 자료형이 되는 것은 아님)</li>
<li>generic 함수인 <code>parse</code>로 string이나 문자열을 다른 자료형을 가진 값으로 변환할 수 있음
<ul>
<li>실패할 수도 있기 때문에 <code>Result</code>를 리턴</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() -> Result&lt;(), std::num::ParseIntError> {</span></span>
<span data-line><span>    let a = 42;</span></span>
<span data-line><span>    let a_string = a.to_string();</span></span>
<span data-line><span>    let b = a_string.parse::&lt;i32>()?;</span></span>
<span data-line><span>    println!(&quot;{} {}&quot;, a, b);</span></span>
<span data-line><span>    Ok(())</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="6장---마무리"><a href="https://tourofrust.com/72_ko.html" class="external">6장 - 마무리<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#6장---마무리" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h1 id="7장---객체-지향-프로그래밍">7장 - 객체 지향 프로그래밍<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#7장---객체-지향-프로그래밍" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<h2 id="oop란-무엇인가"><a href="https://tourofrust.com/74_ko.html" class="external">OOP란 무엇인가?<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#oop란-무엇인가" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>다음과 같은 상징적 특징을 가진 프로그래밍 언어를 뜻함
<ul>
<li>캡슐화 (encapsulation) - _객체_라 불리는 단일 유형의 개념적 단위에 데이터와 함수를 연결지음.</li>
<li>추상화 (abstraction) - 데이터와 함수를 숨겨 객체의 상세 구현 사항을 알기 어렵게 함.</li>
<li>다형성 (polymorphism) - 다른 기능적 관점에서 객체와 상호작용하는 능력.</li>
<li>상속 (inheritance) - 다른 객체로부터 데이터와 동작을 상속받는 능력.</li>
</ul>
</li>
</ul>
<h2 id="rust는-oop가-아니다"><a href="https://tourofrust.com/75_ko.html" class="external">Rust는 OOP가 아니다<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#rust는-oop가-아니다" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>Rust에서는 어떠한 방법으로도 데이터와 동작의 상속이 불가능
<ul>
<li>struct는 부모 struct로부터 field를 상속받을 수 없습니다.</li>
<li>struct는 부모 struct로부터 함수를 상속받을 수 없습니다.</li>
</ul>
</li>
</ul>
<h2 id="메소드-캡슐화-하기"><a href="https://tourofrust.com/76_ko.html" class="external">메소드 캡슐화 하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#메소드-캡슐화-하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>모든 메소드의 첫번째 매개변수는 메소드 호출과 연관된 인스턴스에 대한 참조여야 함</p>
<ul>
<li><code>&amp;self</code> - 인스턴스에 대한 immutable한 참조.</li>
<li><code>&amp;mut self</code> - 인스턴스에 대한 mutable한 참조.</li>
<li>ex: <code>instanceOfObj.foo()</code></li>
</ul>
</li>
<li>
<p>메소드는 <code>impl</code> 키워드를 쓰는 구현 블록 안에 정의</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Plain" data-theme="github-dark"><code data-language="Plain" data-theme="github-dark" style="display:grid;"><span data-line><span>impl MyStruct {</span></span>
<span data-line><span>    ...</span></span>
<span data-line><span>    fn foo(&amp;self) {</span></span>
<span data-line><span>        ...</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span></code></pre></figure>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct SeaCreature {</span></span>
<span data-line><span>    noise: String,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl SeaCreature {</span></span>
<span data-line><span>    fn get_sound(&amp;self) -> &amp;str {</span></span>
<span data-line><span>        &amp;self.noise</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let creature = SeaCreature {</span></span>
<span data-line><span>        noise: String::from(&quot;blub&quot;),</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    println!(&quot;{}&quot;, creature.get_sound());</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="선택적-노출을-통한-추상화"><a href="https://tourofrust.com/77_ko.html" class="external">선택적 노출을 통한 추상화<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#선택적-노출을-통한-추상화" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>기본적으로, filed와 메소드들은 그들이 속한 module에서만 접근 가능</li>
<li><code>pub</code> 키워드는 struct의 field와 메소드를 module 밖으로 노출시킴</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct SeaCreature {</span></span>
<span data-line><span>    pub name: String,</span></span>
<span data-line><span>    noise: String,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl SeaCreature {</span></span>
<span data-line><span>    pub fn get_sound(&amp;self) -> &amp;str {</span></span>
<span data-line><span>        &amp;self.noise</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let creature = SeaCreature {</span></span>
<span data-line><span>        name: String::from(&quot;Ferris&quot;),</span></span>
<span data-line><span>        noise: String::from(&quot;blub&quot;),</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    println!(&quot;{}&quot;, creature.get_sound());</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="다형성과-trait"><a href="https://tourofrust.com/78_ko.html" class="external">다형성과 Trait<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#다형성과-trait" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>trait은 메소드의 집합을 struct 자료형에 연결할 수 있게 해줌</li>
<li>struct가 trait을 구현할 때, 실제 자료형이 무엇인지 알지 못하더라도 그 trait 자료형을 통해 간접적으로 struct와 상호작용할 수 있도록 (예: <code>&amp;dyn MyTrait</code>) 협약을 맺게 됨</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct SeaCreature {</span></span>
<span data-line><span>    pub name: String,</span></span>
<span data-line><span>    noise: String,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl SeaCreature {</span></span>
<span data-line><span>    pub fn get_sound(&amp;self) -> &amp;str {</span></span>
<span data-line><span>        &amp;self.noise</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>trait NoiseMaker {</span></span>
<span data-line><span>    fn make_noise(&amp;self);</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl NoiseMaker for SeaCreature {</span></span>
<span data-line><span>    fn make_noise(&amp;self) {</span></span>
<span data-line><span>        println!(&quot;{}&quot;, &amp;self.get_sound());</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let creature = SeaCreature {</span></span>
<span data-line><span>        name: String::from(&quot;Ferris&quot;),</span></span>
<span data-line><span>        noise: String::from(&quot;blub&quot;),</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    creature.make_noise();</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="trait에-구현된-메소드"><a href="https://tourofrust.com/79_ko.html" class="external">Trait에 구현된 메소드<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#trait에-구현된-메소드" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>trait에 메소드를 구현해 넣을 수 있음</li>
<li>struct 내부의 field에 직접 접근할 수는 없지만, trait 구현체들 사이에서 동작을 공유할 때 유용</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct SeaCreature {</span></span>
<span data-line><span>    pub name: String,</span></span>
<span data-line><span>    noise: String,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl SeaCreature {</span></span>
<span data-line><span>    pub fn get_sound(&amp;self) -> &amp;str {</span></span>
<span data-line><span>        &amp;self.noise</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>trait NoiseMaker {</span></span>
<span data-line><span>    fn make_noise(&amp;self);</span></span>
<span data-line><span>    </span></span>
<span data-line><span>    fn make_alot_of_noise(&amp;self){</span></span>
<span data-line><span>        self.make_noise();</span></span>
<span data-line><span>        self.make_noise();</span></span>
<span data-line><span>        self.make_noise();</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl NoiseMaker for SeaCreature {</span></span>
<span data-line><span>    fn make_noise(&amp;self) {</span></span>
<span data-line><span>        println!(&quot;{}&quot;, &amp;self.get_sound());</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let creature = SeaCreature {</span></span>
<span data-line><span>        name: String::from(&quot;Ferris&quot;),</span></span>
<span data-line><span>        noise: String::from(&quot;blub&quot;),</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    creature.make_alot_of_noise();</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="trait-상속"><a href="https://tourofrust.com/80_ko.html" class="external">Trait 상속<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#trait-상속" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>trait은 다른 trait의 메소드들을 상속 받을 수 있음</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct SeaCreature {</span></span>
<span data-line><span>    pub name: String,</span></span>
<span data-line><span>    noise: String,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl SeaCreature {</span></span>
<span data-line><span>    pub fn get_sound(&amp;self) -> &amp;str {</span></span>
<span data-line><span>        &amp;self.noise</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>trait NoiseMaker {</span></span>
<span data-line><span>    fn make_noise(&amp;self);</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>trait LoudNoiseMaker: NoiseMaker {</span></span>
<span data-line><span>    fn make_alot_of_noise(&amp;self) {</span></span>
<span data-line><span>        self.make_noise();</span></span>
<span data-line><span>        self.make_noise();</span></span>
<span data-line><span>        self.make_noise();</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl NoiseMaker for SeaCreature {</span></span>
<span data-line><span>    fn make_noise(&amp;self) {</span></span>
<span data-line><span>        println!(&quot;{}&quot;, &amp;self.get_sound());</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl LoudNoiseMaker for SeaCreature {}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let creature = SeaCreature {</span></span>
<span data-line><span>        name: String::from(&quot;Ferris&quot;),</span></span>
<span data-line><span>        noise: String::from(&quot;blub&quot;),</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    creature.make_alot_of_noise();</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="동적-vs-정적-디스패치"><a href="https://tourofrust.com/81_ko.html" class="external">동적 vs 정적 디스패치<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#동적-vs-정적-디스패치" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>정적 디스패치 (static dispatch) - 인스턴스의 자료형을 알고 있는 경우, 어떤 함수룰 호출해야 하는지 정확히 알고 있음</li>
<li>동적 디스패치 (dynamic dispatch) - 인스턴스의 자료형을 모르는 경우, 올바른 함수를 호출할 방법을 찾아야 함
<ul>
<li>trait 자료형인 <code>&amp;dyn MyTrait</code>은 동적 디스패치를 통해 객체의 인스턴스들을 간접적으로 작동시킬 수 있게 함</li>
<li>동적 디스패치를 사용할 경우, Rust에서는 사람들이 알 수 있도록 trait 자료형 앞에 <code>dyn</code>을 붙일 것을 권고</li>
</ul>
</li>
<li>동적 디스패치는 실제 함수 호출을 위한 포인터 추적으로 인해 조금 느릴 수 있음</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct SeaCreature {</span></span>
<span data-line><span>    pub name: String,</span></span>
<span data-line><span>    noise: String,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl SeaCreature {</span></span>
<span data-line><span>    pub fn get_sound(&amp;self) -> &amp;str {</span></span>
<span data-line><span>        &amp;self.noise</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>trait NoiseMaker {</span></span>
<span data-line><span>    fn make_noise(&amp;self);</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl NoiseMaker for SeaCreature {</span></span>
<span data-line><span>    fn make_noise(&amp;self) {</span></span>
<span data-line><span>        println!(&quot;{}&quot;, &amp;self.get_sound());</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn static_make_noise(creature: &amp;SeaCreature) {</span></span>
<span data-line><span>    // 실제 자료형을 압니다</span></span>
<span data-line><span>    creature.make_noise();</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn dynamic_make_noise(noise_maker: &amp;dyn NoiseMaker) {</span></span>
<span data-line><span>    // 실제 자료형을 모릅니다</span></span>
<span data-line><span>    noise_maker.make_noise();</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let creature = SeaCreature {</span></span>
<span data-line><span>        name: String::from(&quot;Ferris&quot;),</span></span>
<span data-line><span>        noise: String::from(&quot;blub&quot;),</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    static_make_noise(&amp;creature);</span></span>
<span data-line><span>    dynamic_make_noise(&amp;creature);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="trait-객체"><a href="https://tourofrust.com/82_ko.html" class="external">Trait 객체<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#trait-객체" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>객체의 인스턴스를 <code>&amp;dyn MyTrait</code> 자료형을 가진 매개변수로 넘길 때, 이를 _trait 객체_라고 부름</li>
<li>trait 객체
<ul>
<li>인스턴스의 올바른 메소드를 간접적으로 호출할 수 있게 해줌</li>
<li>인스턴스에 대한 포인터와 인스턴스 메소드들에 대한 함수 포인터 목록을 갖고있는 struct</li>
</ul>
</li>
<li>이런 함수 목록을 C++에서는 _vtable_이라고 함</li>
</ul>
<h2 id="크기를-알-수-없는-데이터-다루기"><a href="https://tourofrust.com/83_ko.html" class="external">크기를 알 수 없는 데이터 다루기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#크기를-알-수-없는-데이터-다루기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>trait을 다른 struct에 저장하는 것
<ul>
<li>trait은 원본 struct를 알기 어렵게 하느라 원래 크기 또한 알기 어렵게 함</li>
</ul>
</li>
<li>Rust에서 크기를 알 수 없는 값이 struct에 저장될 때는 다음의 두 가지 방법으로 처리
<ul>
<li><code>generics</code> - 매개변수의 자료형을 효과적으로 활용하여 알려진 자료형 및 크기의 struct/함수를 생성</li>
<li><code>indirection</code> - 인스턴스를 heap에 올림으로써 실제 자료형의 크기 걱정 없이 그 포인터만 저장</li>
</ul>
</li>
</ul>
<h2 id="generic-함수"><a href="https://tourofrust.com/84_ko.html" class="external">Generic 함수<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#generic-함수" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>Rust의 generic은 trait과 함께 작동</p>
</li>
<li>
<p>매개변수 자료형 <code>T</code>를 정의할 때 해당 인자가 어떤 trait을 구현해야 하는지 나열함으로써 인자에 어떤 자료형을 쓸 수 있는지 제한할 수 있음</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Plain" data-theme="github-dark"><code data-language="Plain" data-theme="github-dark" style="display:grid;"><span data-line><span>fn my_function&lt;T>(foo: T)</span></span>
<span data-line><span>where</span></span>
<span data-line><span>    T:Foo</span></span>
<span data-line><span>{</span></span>
<span data-line><span>    ...</span></span>
<span data-line><span>}</span></span></code></pre></figure>
</li>
<li>
<p>generic을 이용하면 컴파일 시 자료형과 크기를 알 수 있는 정적 자료형의 함수가 만들어짐</p>
<ul>
<li>정적 디스패치와 함께 크기가 정해진 값으로 저장할 수 있게 됨</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct SeaCreature {</span></span>
<span data-line><span>    pub name: String,</span></span>
<span data-line><span>    noise: String,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl SeaCreature {</span></span>
<span data-line><span>    pub fn get_sound(&amp;self) -> &amp;str {</span></span>
<span data-line><span>        &amp;self.noise</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>trait NoiseMaker {</span></span>
<span data-line><span>    fn make_noise(&amp;self);</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl NoiseMaker for SeaCreature {</span></span>
<span data-line><span>    fn make_noise(&amp;self) {</span></span>
<span data-line><span>        println!(&quot;{}&quot;, &amp;self.get_sound());</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn generic_make_noise&lt;T>(creature: &amp;T)</span></span>
<span data-line><span>where</span></span>
<span data-line><span>    T: NoiseMaker,</span></span>
<span data-line><span>{</span></span>
<span data-line><span>    // 컴파일 타임에 실제 자료형을 알게 됩니다</span></span>
<span data-line><span>    creature.make_noise();</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let creature = SeaCreature {</span></span>
<span data-line><span>        name: String::from(&quot;Ferris&quot;),</span></span>
<span data-line><span>        noise: String::from(&quot;blub&quot;),</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    generic_make_noise(&amp;creature);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="generic-함수-줄여쓰기"><a href="https://tourofrust.com/85_ko.html" class="external">Generic 함수 줄여쓰기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#generic-함수-줄여쓰기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>trait으로 제한한 generic은 다음과 같이 줄여쓸 수 있음</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn my_function(foo: impl Foo) {</span></span>
<span data-line><span>    ...</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>// 줄여쓰기 전</span></span>
<span data-line><span>fn my_function&lt;T>(foo: T)</span></span>
<span data-line><span>where</span></span>
<span data-line><span>    T:Foo</span></span>
<span data-line><span>{</span></span>
<span data-line><span>    ...</span></span>
<span data-line><span>}</span></span></code></pre></figure>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct SeaCreature {</span></span>
<span data-line><span>    pub name: String,</span></span>
<span data-line><span>    noise: String,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl SeaCreature {</span></span>
<span data-line><span>    pub fn get_sound(&amp;self) -> &amp;str {</span></span>
<span data-line><span>        &amp;self.noise</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>trait NoiseMaker {</span></span>
<span data-line><span>    fn make_noise(&amp;self);</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl NoiseMaker for SeaCreature {</span></span>
<span data-line><span>    fn make_noise(&amp;self) {</span></span>
<span data-line><span>        println!(&quot;{}&quot;, &amp;self.get_sound());</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn generic_make_noise(creature: &amp;impl NoiseMaker) {</span></span>
<span data-line><span>    // 컴파일 타임에 실제 자료형을 알게 됩니다</span></span>
<span data-line><span>    creature.make_noise();</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let creature = SeaCreature {</span></span>
<span data-line><span>        name: String::from(&quot;Ferris&quot;),</span></span>
<span data-line><span>        noise: String::from(&quot;blub&quot;),</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    generic_make_noise(&amp;creature);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="box"><a href="https://tourofrust.com/86_ko.html" class="external">Box<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#box" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>stack에 있는 데이터를 heap으로 옮길 수 있게 해주는 데이터 구조</li>
<li>_smart pointer_로도 알려진 struct이며 heap에 있는 데이터를 가리키는 포인터를 들고 있음</li>
<li>크기가 알려져 있는 struct이므로 (왜냐하면 그저 포인터만 들고 있으므로) field의 크기를 알아야 하는 struct에 뭔가의 참조를 저장할 때 종종 사용 됨</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct SeaCreature {</span></span>
<span data-line><span>    pub name: String,</span></span>
<span data-line><span>    noise: String,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl SeaCreature {</span></span>
<span data-line><span>    pub fn get_sound(&amp;self) -> &amp;str {</span></span>
<span data-line><span>        &amp;self.noise</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>trait NoiseMaker {</span></span>
<span data-line><span>    fn make_noise(&amp;self);</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl NoiseMaker for SeaCreature {</span></span>
<span data-line><span>    fn make_noise(&amp;self) {</span></span>
<span data-line><span>        println!(&quot;{}&quot;, &amp;self.get_sound());</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>struct Ocean {</span></span>
<span data-line><span>    animals: Vec&lt;Box&lt;dyn NoiseMaker>>,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let ferris = SeaCreature {</span></span>
<span data-line><span>        name: String::from(&quot;Ferris&quot;),</span></span>
<span data-line><span>        noise: String::from(&quot;blub&quot;),</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    let sarah = SeaCreature {</span></span>
<span data-line><span>        name: String::from(&quot;Sarah&quot;),</span></span>
<span data-line><span>        noise: String::from(&quot;swish&quot;),</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    let ocean = Ocean {</span></span>
<span data-line><span>        animals: vec![Box::new(ferris), Box::new(sarah)],</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    for a in ocean.animals.iter() {</span></span>
<span data-line><span>        a.make_noise();</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="generic-구조체-다시-보기"><a href="https://tourofrust.com/87_ko.html" class="external">Generic 구조체 다시 보기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#generic-구조체-다시-보기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>generic struct는 trait으로 제한된 매개변수 자료형을 가질 수 있음</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Plain" data-theme="github-dark"><code data-language="Plain" data-theme="github-dark" style="display:grid;"><span data-line><span>struct MyStruct&lt;T></span></span>
<span data-line><span>where</span></span>
<span data-line><span>    T: MyTrait</span></span>
<span data-line><span>{</span></span>
<span data-line><span>    foo: T</span></span>
<span data-line><span>    ...</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>//매개변수 자료형은 generic structure의 구현 블록 안에 표시</span></span>
<span data-line><span>impl&lt;T> MyStruct&lt;T> {</span></span>
<span data-line><span>    ...</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="7장---마무리"><a href="https://tourofrust.com/88_ko.html" class="external">7장 - 마무리<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#7장---마무리" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h1 id="8장---스마트-포인터">8장 - 스마트 포인터<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#8장---스마트-포인터" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<h2 id="참조-다시-보기"><a href="https://tourofrust.com/90_ko.html" class="external">참조 다시 보기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#참조-다시-보기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>참조는 메모리 상의 어떤 바이트들의 시작 위치를 가리키는 숫자</li>
<li>용도
<ul>
<li>특정 자료형의 데이터가 어디에 존재하는지에 대한 개념을 나타내는 것</li>
</ul>
</li>
<li>일반 숫자와의 차이점
<ul>
<li>Rust에서 참조가 가리키는 값보다 더 오래 살지 않도록 lifetime을 검증하는 것</li>
</ul>
</li>
</ul>
<h2 id="원시-포인터"><a href="https://tourofrust.com/91_ko.html" class="external">원시 포인터<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#원시-포인터" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>참조는 더 원시적인 자료형인 _raw pointer_로 변환될 수 있음</li>
<li>raw pointer는 숫자와 마찬가지로 거의 제한 없이 여기저기 복사하고 이동할 수 있음
<ul>
<li>Rust는 raw pointer가 가리키는 메모리 위치의 유효성을 보증하지 않습니다.</li>
</ul>
</li>
<li>raw pointer에는 두 종류
<ul>
<li><code>const T</code> - 자료형 T의 데이터를 가리키는 절대 변경되지 않는 raw pointer.</li>
<li><code>mut T</code> - 자료형 T의 데이터를 가리키는 변경될 수 있는 raw pointer.</li>
</ul>
</li>
<li>raw pointer는 숫자와 상호 변환이 가능
<ul>
<li>예: <code>usize</code></li>
</ul>
</li>
<li>raw pointer는 _unsafe_한 코드의 데이터에 접근할 수 있음</li>
<li>참조 vs raw pointer
<ul>
<li>Rust에서의 참조
<ul>
<li>사용 방법에 있어서 C의 pointer와 매우 유사하나, 저장되는 방식이나 다른 함수에 전달되는 부분에 있어 훨씬 많은 컴파일 타임의 제약을 받음</li>
</ul>
</li>
<li>Rust에서의 raw pointer
<ul>
<li>복사하고 전달하고 심지어 pointer 연산을 할 수 있는 숫자 자료형으로 변환할 수도 있다는 점에서 C의 pointer와 유사</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let a = 42;</span></span>
<span data-line><span>    let memory_location = &amp;a as *const i32 as usize;</span></span>
<span data-line><span>    println!(&quot;데이터는 여기 있습니다: {}&quot;, memory_location);</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>-> 데이터는 여기 있습니다: 140725281338716</span></span></code></pre></figure>
<h2 id="역참조-1"><a href="https://tourofrust.com/92_ko.html" class="external">역참조<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#역참조-1" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><em>참조</em> (i.e. <code>&amp;i32</code>)를 통해 참조되는 데이터를 접근/변경하는 것</li>
<li>참조로 데이터에 접근/변경하는 데에는 다음의 두 가지 방법(=역참조 방법)
<ul>
<li>변수 할당 중에 참조되는 데이터에 접근</li>
<li>참조되는 데이터의 field나 메소드에 접근</li>
</ul>
</li>
</ul>
<h2 id="-연산자"><a href="https://tourofrust.com/93_ko.html" class="external">* 연산자<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-연산자" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p><code>*</code> 연산자는 참조를 역참조 하는 명시적인 방법</p>
</li>
<li>
<p><span class="text-highlight">i32는</span> ==<code>Copy</code><span class="text-highlight"> </span>trait을 구현하는 기본 자료형이기 때문에, stack에 있는 변수<span class="text-highlight"> </span><code>a</code>==<span class="text-highlight">의 바이트들은 변수</span> ==<code>b</code>==<span class="text-highlight">의 바이트들로 복사</span></p>
<p><a href="https://velog.io/@undefcat/Rust-T-mut-T-%EA%B7%B8%EB%A6%AC%EA%B3%A0-Copy" class="external">https://velog.io/@undefcat/Rust-T-mut-T-그리고-Copy<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<ul>
<li>copy trait : 일종의 shallow copy? ↔ clone trait
<ul>
<li>trait : rust의 object</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let a: i32 = 42;</span></span>
<span data-line><span>    let ref_ref_ref_a: &amp;&amp;&amp;i32 = &amp;&amp;&amp;a;</span></span>
<span data-line><span>    let ref_a: &amp;i32 = **ref_ref_ref_a;</span></span>
<span data-line><span>    let b: i32 = *ref_a;</span></span>
<span data-line><span>    println!(&quot;{}&quot;, b)</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>-> 42</span></span></code></pre></figure>
<h2 id="-연산자-1"><a href="https://tourofrust.com/94_ko.html" class="external">. 연산자<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#-연산자-1" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>참조의 field와 메소드에 접근하는 데에 쓰임, 이건 좀 더 미묘하게 동작</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Plain" data-theme="github-dark"><code data-language="Plain" data-theme="github-dark" style="display:grid;"><span data-line><span>let f = Foo { value: 42 };</span></span>
<span data-line><span>let ref_ref_ref_f = &amp;&amp;&amp;f;</span></span>
<span data-line><span>println!(&quot;{}&quot;, ref_ref_ref_f.value);</span></span></code></pre></figure>
<ul>
<li><code>.</code> 연산자가 참조 열을 자동으로 역참조</li>
<li>저 마지막 줄은 컴파일러에 의해 자동적으로 다음과 같이 바뀌게 됨
<ul>
<li><code>println!(&quot;{}&quot;, (***ref_ref_ref_f).value);</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="스마트-포인터"><a href="https://tourofrust.com/95_ko.html" class="external">스마트 포인터<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#스마트-포인터" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><code>&amp;</code> 연산자로 이미 존재하는 데이터의 참조를 생성하는 기능과 더불어, Rust에서는 <strong>smart pointer</strong>라 불리는 <em>참조 같은</em> struct를 생성하는 기능을 제공</li>
<li>고수준에서 보자면 참조는 다른 자료형에 대한 접근을 제공하는 자료형이라고 볼 수 있음</li>
<li>smart pointer가 일반적인 참조와 다른 점은, 프로그래머가 작성하는 내부 로직에 기반해 작동한다는 것</li>
<li>일반적으로 smart pointer는 struct가 <code>*</code>와 <code>.</code> 연산자로 역참조될 때 무슨 일이 발생할지 지정하기 위해 <code>Deref</code>, <code>DerefMut</code>, 그리고 <code>Drop</code> trait을 구현</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>use std::ops::Deref;</span></span>
<span data-line><span>struct TattleTell&lt;T> {</span></span>
<span data-line><span>    value: T,</span></span>
<span data-line><span>}</span></span>
<span data-line><span>impl&lt;T> Deref for TattleTell&lt;T> {</span></span>
<span data-line><span>    type Target = T;</span></span>
<span data-line><span>    fn deref(&amp;self) -> &amp;T {</span></span>
<span data-line><span>        println!(&quot;{} was used!&quot;, std::any::type_name::&lt;T>());</span></span>
<span data-line><span>        &amp;self.value</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let foo = TattleTell {</span></span>
<span data-line><span>        value: &quot;secret message&quot;,</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    // foo가 `len` 함수를 위해 자동참조된 후</span></span>
<span data-line><span>    // 여기서 역참조가 즉시 일어납니다</span></span>
<span data-line><span>    println!(&quot;{}&quot;, foo.len());</span></span>
<span data-line><span>}</span></span>
<span data-line><span>-> &amp;str was used!</span></span>
<span data-line><span>   14</span></span></code></pre></figure>
<p>==<strong>→ 문자열은 필드에 존재하는데, foo의 참조를 재정의해서 self.value의 참조를 반환하도록 했기 때문에 len을 호출 할 수 있게 되었다.</strong>==</p>
<h2 id="위험한-스마트-코드"><a href="https://tourofrust.com/96_ko.html" class="external">위험한 스마트 코드<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#위험한-스마트-코드" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>smart pointer는 _unsafe_한 코드를 꽤 자주 쓰는 경향이 있음.</li>
<li>smart pointer는 Rust에서 가장 저수준의 메모리를 다루기 위한 일반적인 도구</li>
<li>unsafe한 코드
<ul>
<li>Rust 컴파일러가 보증할 수 없는 몇 가지 기능이 있다는 예외사항을 제외하고는 일반적인 코드와 완전히 똑같이 동작</li>
<li>unsafe한 코드의 주기능은 _raw pointer를 역참조_하는 것</li>
<li>이는 _raw pointer_를 메모리 상의 위치에 가져다 놓고 “데이터 구조가 여깄다!”고 선언한 뒤 사용할 수 있는 데이터 표현으로 변환하는 것을 의미
<ul>
<li>예: <code>*const u8</code>을 <code>u8</code></li>
</ul>
</li>
<li>Rust에는 메모리에 쓰여지는 모든 바이트의 의미를 추적하는 방법은 없음</li>
<li>Rust는 _raw pointer_로 쓰이는 임의의 숫자에 무엇이 존재하는지 보증할 수 없기 때문에, 역참조를 <code>unsafe { ... }</code> 블록 안에 넣음</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>    let a: [u8; 4] = [86, 14, 73, 64];</span></span>
<span data-line><span>    // 이게 원시 pointer입니다.</span></span>
<span data-line><span>    // 무언가의 메모리 주소를 숫자로 가져오는 것은 완전히 안전한 일입니다</span></span>
<span data-line><span>    let pointer_a = &amp;a as *const u8 as usize;</span></span>
<span data-line><span>    println!(&quot;데이터 메모리 주소: {}&quot;, pointer_a);</span></span>
<span data-line><span>    // 숫자를 원시 pointer로, 다시 f32로 변환하는 것 역시</span></span>
<span data-line><span>    // 안전한 일입니다.</span></span>
<span data-line><span>    let pointer_b = pointer_a as *const f32;</span></span>
<span data-line><span>    let b = unsafe {</span></span>
<span data-line><span>        // 이건 unsafe한데,</span></span>
<span data-line><span>        // 컴파일러에게 우리의 pointer가 유효한 f32라고 가정하고</span></span>
<span data-line><span>        // 그 값을 변수 b로 역참조 하라고 하고 있기 때문입니다.</span></span>
<span data-line><span>        // Rust는 이런 가정이 참인지 검증할 방법이 없습니다.</span></span>
<span data-line><span>        *pointer_b</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    println!(&quot;맹세하건대 이건 파이다! {}&quot;, b);</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>-> 데이터 메모리 주소: 140725241194940 </span></span>
<span data-line><span>   맹세하건대 이건 파이다! 3.1415</span></span></code></pre></figure>
<h2 id="익숙한-친구들"><a href="https://tourofrust.com/97_ko.html" class="external">익숙한 친구들<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#익숙한-친구들" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><code>Vec&lt;T></code>
<ul>
<li>바이트들의 메모리 영역을 소유하는 smart pointer</li>
<li>Rust 컴파일러는 이 바이트들에 뭐가 존재하는지 모름</li>
<li>smart pointer
<ul>
<li>관리하는 메모리 영역에서 내용물을 꺼내기 위해 자기가 뭘 의미하는지 해석</li>
<li>데이터 구조가 그 바이트들 내 어디에서 시작하고 끝나는지 추적</li>
<li>raw pointer를 데이터 구조로, 또 쓰기 편한 멋지고 깔끔한 인터페이스로 역참조</li>
</ul>
</li>
</ul>
</li>
<li><code>String</code>
<ul>
<li>바이트들의 메모리 영역을 추적</li>
<li>쓰여지는 내용물이 언제나 유효한 <code>utf-8</code>이도록 프로그램적으로 제한</li>
<li>메모리 영역을 <code>&amp;str</code> 자료형으로 역참조할 수 있도록 도와줌</li>
</ul>
</li>
<li>이 데이터 구조들 둘 다, 자기 할 일을 하기 위해 raw pointer에 대한 unsafe한 역참조를 사용</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>use std::alloc::{alloc, Layout};</span></span>
<span data-line><span>use std::ops::Deref;</span></span>
<span data-line> </span>
<span data-line><span>struct Pie {</span></span>
<span data-line><span>    secret_recipe: usize,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl Pie {</span></span>
<span data-line><span>    fn new() -> Self {</span></span>
<span data-line><span>        // 4 바이트를 요청해 봅시다</span></span>
<span data-line><span>        let layout = Layout::from_size_align(4, 1).unwrap();</span></span>
<span data-line> </span>
<span data-line><span>        unsafe {</span></span>
<span data-line><span>            // 메모리 위치를 숫자로 할당하고 저장합니다</span></span>
<span data-line><span>            let ptr = alloc(layout) as *mut u8;</span></span>
<span data-line><span>            // pointer 연산을 사용해 u8 값 몇 개를 메모리에 써봅시다</span></span>
<span data-line><span>            ptr.write(86);</span></span>
<span data-line><span>            ptr.add(1).write(14);</span></span>
<span data-line><span>            ptr.add(2).write(73);</span></span>
<span data-line><span>            ptr.add(3).write(64);</span></span>
<span data-line> </span>
<span data-line><span>            Pie {</span></span>
<span data-line><span>                secret_recipe: ptr as usize,</span></span>
<span data-line><span>            }</span></span>
<span data-line><span>        }</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line><span>impl Deref for Pie {</span></span>
<span data-line><span>    type Target = f32;</span></span>
<span data-line><span>    fn deref(&amp;self) -> &amp;f32 {</span></span>
<span data-line><span>        // secret_recipe pointer를 f32 raw pointer로 변환합니다</span></span>
<span data-line><span>        let pointer = self.secret_recipe as *const f32;</span></span>
<span data-line><span>        // 역참조 하여 &amp;f32 값으로 리턴합니다</span></span>
<span data-line><span>        unsafe { &amp;*pointer }</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let p = Pie::new();</span></span>
<span data-line><span>    // Pie struct의 smart pointer를 역참조 하여</span></span>
<span data-line><span>    // &quot;파이를 만듭니다&quot;</span></span>
<span data-line><span>    println!(&quot;{:?}&quot;, *p);</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>-> 3.1415</span></span></code></pre></figure>
<h2 id="힙에-할당된-메모리"><a href="https://tourofrust.com/98_ko.html" class="external">힙에 할당된 메모리<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#힙에-할당된-메모리" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><code>Box</code>는 데이터를 stack에서 heap으로 옮길 수 있게 해주는 smart pointer</li>
<li>이를 역참조하면 마치 원래 자료형이었던 것처럼 heap에 할당된 데이터를 편하게 쓸 수 있음</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>struct Pie;</span></span>
<span data-line> </span>
<span data-line><span>impl Pie {</span></span>
<span data-line><span>    fn eat(&amp;self) {</span></span>
<span data-line><span>        println!(&quot;heap에 있으니 더 맛있습니다!&quot;)</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let heap_pie = Box::new(Pie);</span></span>
<span data-line><span>    heap_pie.eat();</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>->heap에 있으니 더 맛있습니다!</span></span></code></pre></figure>
<h2 id="실패할-수-있는-메인-다시-보기"><a href="https://tourofrust.com/99_ko.html" class="external">실패할 수 있는 메인 다시 보기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#실패할-수-있는-메인-다시-보기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>Rust 코드에는 많고도 많은 오류 표현 방법이 있지만, 그 중에도 standard library에는 오류를 설명하기 위한 범용 trait인 <code>std::error::Error</code>가 있음</li>
<li>smart pointer인 <code>Box</code>를 사용하면 <code>Box&lt;dyn std::error::Error></code>를 오류 리턴 시 공통된 자료형으로 사용할 수 있음</li>
<li>이는 오류를 heap에 전파하고 특정한 자료형을 몰라도 고수준에서 상호작용할 수 있도록 해주기 때문</li>
<li>Tour of Rust 초반에 <code>main</code>은 오류를 리턴할 수 있다고 배웠습니다.</li>
<li>이제 우리는 오류의 데이터 구조가 Rust의 일반적인 <code>Error</code> trait을 구현하는 한, 프로그램에서 발생할 수 있는 거의 모든 종류의 오류를 설명할 수 있는 자료형을 리턴할 수 있습니다.</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Python" data-theme="github-dark"><code data-language="Python" data-theme="github-dark" style="display:grid;"><span data-line><span>use core::fmt::Display;</span></span>
<span data-line><span>use std::error::Error;</span></span>
<span data-line> </span>
<span data-line><span>struct Pie;</span></span>
<span data-line> </span>
<span data-line><span>#[derive(Debug)]</span></span>
<span data-line><span>struct NotFreshError;</span></span>
<span data-line> </span>
<span data-line><span>impl Display for NotFreshError {</span></span>
<span data-line><span>    fn fmt(&amp;self, f: &amp;mut std::fmt::Formatter&lt;'_>) -> std::fmt::Result {</span></span>
<span data-line><span>        write!(f, &quot;이 파이는 신선하지 않군요!&quot;)</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl Error for NotFreshError {}</span></span>
<span data-line> </span>
<span data-line><span>impl Pie {</span></span>
<span data-line><span>    fn eat(&amp;self) -> Result&lt;(), Box&lt;dyn Error>> {</span></span>
<span data-line><span>        Err(Box::new(NotFreshError))</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() -> Result&lt;(), Box&lt;dyn Error>> {</span></span>
<span data-line><span>    let heap_pie = Box::new(Pie);</span></span>
<span data-line><span>    heap_pie.eat()?;</span></span>
<span data-line><span>    Ok(())</span></span>
<span data-line><span>}</span></span>
<span data-line><span>-></span></span>
<span data-line><span>Standard Error</span></span>
<span data-line><span>   Compiling playground v0.0.1 (/playground)</span></span>
<span data-line><span>    Finished dev [unoptimized + debuginfo] target(s) in 0.61s</span></span>
<span data-line><span>     Running `target/debug/playground`</span></span>
<span data-line><span>Error: NotFreshError</span></span></code></pre></figure>
<h2 id="참조-카운팅"><a href="https://tourofrust.com/100_ko.html" class="external">참조 카운팅<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#참조-카운팅" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><code>Rc</code>
<ul>
<li>stack에 있는 데이터를 heap으로 옮겨주는 smart pointer</li>
<li>heap에 놓인 데이터를 immutable하게 대여하는 기능을 가진 다른 <code>Rc</code> smart pointer들을 복제할 수 있게 해줌</li>
<li>smart pointer가 drop 될 때에만 heap에 있는 데이터가 할당 해제</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Bash" data-theme="github-dark"><code data-language="Bash" data-theme="github-dark" style="display:grid;"><span data-line><span>use std::rc::Rc;</span></span>
<span data-line> </span>
<span data-line><span>struct Pie;</span></span>
<span data-line> </span>
<span data-line><span>impl Pie {</span></span>
<span data-line><span>    fn eat(&amp;self) {</span></span>
<span data-line><span>        println!(&quot;heap에 있으니 더 맛있습니다!&quot;)</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let heap_pie = Rc::new(Pie);</span></span>
<span data-line><span>    let heap_pie2 = heap_pie.clone();</span></span>
<span data-line><span>    let heap_pie3 = heap_pie2.clone();</span></span>
<span data-line> </span>
<span data-line><span>    heap_pie3.eat();</span></span>
<span data-line><span>    heap_pie2.eat();</span></span>
<span data-line><span>    heap_pie.eat();</span></span>
<span data-line> </span>
<span data-line><span>    // 모든 참조 카운트 smart pointer가 여기서 drop 됩니다</span></span>
<span data-line><span>    // heap 데이터인 Pie가 드디어 할당 해제됩니다</span></span>
<span data-line><span>}</span></span>
<span data-line><span>-> heap에 있으니 더 맛있습니다!</span></span>
<span data-line><span>   heap에 있으니 더 맛있습니다!</span></span>
<span data-line><span>   heap에 있으니 더 맛있습니다!</span></span></code></pre></figure>
<h2 id="접근-공유하기"><a href="https://tourofrust.com/101_ko.html" class="external">접근 공유하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#접근-공유하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><code>RefCell</code>
<ul>
<li>보통 smart pointer가 보유하는 컨테이너 데이터 구조</li>
<li>데이터를 가져오거나 안에 있는 것에 대한 mutable 또는 immutable한 참조를 대여할 수 있게 해줌</li>
<li>데이터를 대여할 때, Rust는 런타임에 다음의 메모리 안전 규칙을 적용하여 남용을 방지
<ul>
<li><strong>단 하나의 mutable한 참조 또는 여러개의 immutable한 참조만 허용</strong></li>
<li><strong>둘 다는 불가</strong></li>
<li>이 규칙을 어기면 <code>RefCell</code>은 panic을 일으킴</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Bash" data-theme="github-dark"><code data-language="Bash" data-theme="github-dark" style="display:grid;"><span data-line><span>use std::cell::RefCell;</span></span>
<span data-line> </span>
<span data-line><span>struct Pie {</span></span>
<span data-line><span>    slices: u8,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl Pie {</span></span>
<span data-line><span>    fn eat(&amp;mut self) {</span></span>
<span data-line><span>        println!(&quot;heap에 있으니 더 맛있습니다!&quot;);</span></span>
<span data-line><span>        self.slices -= 1;</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    // RefCell은 런타임에 메모리 안전성을 검증합니다</span></span>
<span data-line><span>    // 주의: pie_cell은 mut가 아닙니다!</span></span>
<span data-line><span>    let pie_cell = RefCell::new(Pie { slices: 8 });</span></span>
<span data-line> </span>
<span data-line><span>    {</span></span>
<span data-line><span>        // 그렇지만 mutable 참조를 대여할 수 있습니다!</span></span>
<span data-line><span>        let mut mut_ref_pie = pie_cell.borrow_mut();</span></span>
<span data-line><span>        mut_ref_pie.eat();</span></span>
<span data-line><span>        mut_ref_pie.eat();</span></span>
<span data-line> </span>
<span data-line><span>        // mut_ref_pie는 scope의 마지막에 drop 됩니다</span></span>
<span data-line><span>    }</span></span>
<span data-line> </span>
<span data-line><span>    // 이제 mutable 참조가 drop 되고 나면 immutable하게 대여할 수 있습니다</span></span>
<span data-line><span>    let ref_pie = pie_cell.borrow();</span></span>
<span data-line><span>    println!(&quot;{} 조각 남았습니다&quot;, ref_pie.slices);</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>-> heap에 있으니 더 맛있습니다!</span></span>
<span data-line><span>	 heap에 있으니 더 맛있습니다!</span></span>
<span data-line><span>	 6 조각 남았습니다</span></span></code></pre></figure>
<h2 id="쓰레드-간에-공유하기"><a href="https://tourofrust.com/102_ko.html" class="external">쓰레드 간에 공유하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#쓰레드-간에-공유하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>Mutex
<ul>
<li>보통 smart pointer가 보유하는 컨테이너 데이터 구조</li>
<li>데이터를 가져오거나 내부 데이터에 대한 mutable 또는 immutable한 참조를 대여할 수 있게 해줌</li>
<li>잠긴 대여를 통해 운영체제가 동시에 오직 하나의 CPU만 데이터에 접근 가능</li>
<li>원래 쓰레드가 끝날 때까지 다른 쓰레드들을 막음으로써 대여가 남용되는 것을 방지<code>Mutex</code>는 여러 개의 CPU 쓰레드가 같은 데이터에 접근하는 것을 조율하는 근본적인 부분</li>
</ul>
</li>
<li>Arc
<ul>
<li>특별한 smart pointer인 <code>Arc</code>도 있는데, 쓰레드-안전성을 가진 참조 카운트 증가 방식을 사용한다는 것을 제외하고는 <code>Rc</code>와 동일
<ul>
<li>동일한 <code>Mutex</code>에 다수의 참조를 가질 때 종종 사용</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Bash" data-theme="github-dark"><code data-language="Bash" data-theme="github-dark" style="display:grid;"><span data-line><span>use std::sync::Mutex;</span></span>
<span data-line> </span>
<span data-line><span>struct Pie;</span></span>
<span data-line> </span>
<span data-line><span>impl Pie {</span></span>
<span data-line><span>    fn eat(&amp;self) {</span></span>
<span data-line><span>        println!(&quot;지금은 오직 나만이 파이를 먹는다!&quot;);</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let mutex_pie = Mutex::new(Pie);</span></span>
<span data-line><span>    // 파이에 대한 잠겨있는 immutable한 참조를 빌려봅시다</span></span>
<span data-line><span>    // lock은 실패할 수도 있기 때문에 그 결과는 unwrap 해야합니다</span></span>
<span data-line><span>    let ref_pie = mutex_pie.lock().unwrap();</span></span>
<span data-line><span>    ref_pie.eat();</span></span>
<span data-line><span>    // 잠긴 참조는 여기서 drop 되며, mutex로 보호되는 값은 다른 이에 의해 쓰일 수 있습니다</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="스마트-포인터-조합하기"><a href="https://tourofrust.com/103_ko.html" class="external">스마트 포인터 조합하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#스마트-포인터-조합하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>smart pointer는 한계가 있는 것처럼 보이지만, 조합해서 사용하면 매우 강력해질 수 있음
<ul>
<li><code>Rc&lt;Vec&lt;Foo>></code>
<ul>
<li>heap에 있는 immutable한 데이터 구조의 동일한 vector를 대여할 수 있는 복수의 smart pointer를 복제할 수 있게 해줌</li>
</ul>
</li>
<li><code>Rc&lt;RefCell&lt;Foo>></code> 
<ul>
<li>복수의 smart pointer가 동일한 <code>Foo</code> struct를 mutable/immutable하게 대여할 수 있게 해줌</li>
</ul>
</li>
<li><code>Arc&lt;Mutex&lt;Foo>></code>
<ul>
<li>복수의 smart pointer가 임시의 mutable/immutable한 대여를 CPU 쓰레드 독점 방식으로 잠글 수 있게 해줌</li>
</ul>
</li>
</ul>
</li>
<li>“내부 가변성” 패턴
<ul>
<li>Rust의 컴파일 타임 체크와 동일 수준의 안전성으로 런타임의 메모리 사용 규칙을 변경할 수 있는 패턴</li>
<li>내부 데이터를 변경하기 위해 immutable한 데이터 유형(복수의 smart pointer가 소유할 수 있음)을 사용</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Bash" data-theme="github-dark"><code data-language="Bash" data-theme="github-dark" style="display:grid;"><span data-line><span>use std::cell::RefCell;</span></span>
<span data-line><span>use std::rc::Rc;</span></span>
<span data-line> </span>
<span data-line><span>struct Pie {</span></span>
<span data-line><span>    slices: u8,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl Pie {</span></span>
<span data-line><span>    fn eat_slice(&amp;mut self, name: &amp;str) {</span></span>
<span data-line><span>        println!(&quot;{}가 한 조각 먹었습니다!&quot;, name);</span></span>
<span data-line><span>        self.slices -= 1;</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>struct SeaCreature {</span></span>
<span data-line><span>    name: String,</span></span>
<span data-line><span>    pie: Rc&lt;RefCell&lt;Pie>>,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>impl SeaCreature {</span></span>
<span data-line><span>    fn eat(&amp;self) {</span></span>
<span data-line><span>        // mutable 대여를 위해 파이에 대한 smart pointer를 사용</span></span>
<span data-line><span>        let mut p = self.pie.borrow_mut();</span></span>
<span data-line><span>        // 한 입 먹자!</span></span>
<span data-line><span>        p.eat_slice(&amp;self.name);</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let pie = Rc::new(RefCell::new(Pie { slices: 8 }));</span></span>
<span data-line><span>    // ferris와 sarah에겐 파이에 대한 smart pointer의 복제가 주어집니다</span></span>
<span data-line><span>    let ferris = SeaCreature {</span></span>
<span data-line><span>        name: String::from(&quot;ferris&quot;),</span></span>
<span data-line><span>        pie: pie.clone(),</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    let sarah = SeaCreature {</span></span>
<span data-line><span>        name: String::from(&quot;sarah&quot;),</span></span>
<span data-line><span>        pie: pie.clone(),</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>    ferris.eat();</span></span>
<span data-line><span>    sarah.eat();</span></span>
<span data-line> </span>
<span data-line><span>    let p = pie.borrow();</span></span>
<span data-line><span>    println!(&quot;{} 조각 남았습니다&quot;, p.slices);</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>-> ferris가 한 조각 먹었습니다!</span></span>
<span data-line><span>   sarah가 한 조각 먹었습니다!</span></span>
<span data-line><span>   6 조각 남았습니다</span></span></code></pre></figure>
<h2 id="8장---마무리"><a href="https://tourofrust.com/104_ko.html" class="external">8장 - 마무리<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#8장---마무리" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h1 id="9장---프로젝트-구성과-구조">9장 - 프로젝트 구성과 구조<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#9장---프로젝트-구성과-구조" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<h2 id="모듈"><a href="https://tourofrust.com/106_ko.html" class="external">모듈<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#모듈" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><em>크레이트(crate)</em>
<ul>
<li>모든 Rust 프로그램이나 라이브러리(library)</li>
<li>모든 crate는 _모듈(module)_의 계층구조로 이루어짐</li>
<li>모든 crate에는 최상위(root) module이 있음</li>
</ul>
</li>
<li>module
<ul>
<li>전역변수, 함수, struct, trait, 또는 다른 module까지도 포함될 수 있음</li>
<li>Rust에서는 파일과 module 트리 계층구조 간의 1:1 대응은 없음</li>
<li>module의 트리 구조는 코드로 직접 작성</li>
</ul>
</li>
</ul>
<h2 id="프로그램-작성하기"><a href="https://tourofrust.com/107_ko.html" class="external">프로그램 작성하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#프로그램-작성하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>프로그램은 <code>main.rs</code>라 불리는 파일에 root module을 가짐
<ul>
<li>프로그램인 경우, main.rs가 진입점</li>
</ul>
</li>
</ul>
<h2 id="라이브러리-작성하기"><a href="https://tourofrust.com/108_ko.html" class="external">라이브러리 작성하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#라이브러리-작성하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>library는 <code>lib.rs</code>라 불리는 파일에 root module을 가짐
<ul>
<li>library인 경우, lib.rs가 진입점</li>
</ul>
</li>
</ul>
<h2 id="다른-모듈과-크레이트-참조하기"><a href="https://tourofrust.com/109_ko.html" class="external">다른 모듈과 크레이트 참조하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#다른-모듈과-크레이트-참조하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>module 내의 항목은 전체 module 경로를 이용해 참조 가능
<ul>
<li>예 : <code>std::f64::consts::PI</code></li>
</ul>
</li>
<li>더 간단한 방법 : <strong>use</strong> 키워드 사용
<ul>
<li>module에서 쓰고자 하는 특정 항목을 전체 경로를 쓰지 않고도 코드 어디에서든 사용할 수 있음</li>
<li><code>use std::f64::consts::PI</code>를 쓰면 main 함수에서 <code>PI</code>만으로 사용할 수 있음</li>
</ul>
</li>
<li><strong>std</strong>
<ul>
<li>유용한 데이터 구조 및 OS와 상호 작용할 수 있는 함수로 가득한 **표준 라이브러리(standard library)**의 crate</li>
</ul>
</li>
<li>커뮤니티 crate
<ul>
<li><a href="https://crates.io/" class="external">https://crates.io/<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Bash" data-theme="github-dark"><code data-language="Bash" data-theme="github-dark" style="display:grid;"><span data-line><span>use std::f64::consts::PI;</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    println!(&quot;놀이터에 오신 것을 환영합니다!&quot;);</span></span>
<span data-line><span>    println!(&quot;{} 한 조각 먹고 싶군요!&quot;, PI);</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>-> 놀이터에 오신 것을 환영합니다!</span></span>
<span data-line><span>   3.141592653589793 한 조각 먹고 싶군요!</span></span></code></pre></figure>
<h2 id="여러-개의-항목을-참조하기"><a href="https://tourofrust.com/110_ko.html" class="external">여러 개의 항목을 참조하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#여러-개의-항목을-참조하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>복수의 항목을 하나의 module 경로로 참조하는 경우 {} 사용
<ul>
<li>예: <code>use std::f64::consts::{PI,TAU}</code></li>
</ul>
</li>
</ul>
<h2 id="모듈-작성하기"><a href="https://tourofrust.com/111_ko.html" class="external">모듈 작성하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#모듈-작성하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>Rust에서 module을 선언하는 데에는 두 가지 방법
<ul>
<li><code>foo.rs</code>라는 이름의 파일</li>
<li><code>foo</code>라는 이름의 디렉토리에 들어있는 파일 <code>mod.rs</code></li>
</ul>
</li>
</ul>
<h2 id="모듈-계층구조"><a href="https://tourofrust.com/112_ko.html" class="external">모듈 계층구조<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#모듈-계층구조" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>module과 하위모듈(sub-module)
<ul>
<li>한 module은 다른 module에 의존할 수 있음</li>
</ul>
</li>
<li>하위 모듈 만들기
<ul>
<li>부모 module에 다음과 같은 코드를 작성
<ul>
<li><code>mod foo;</code>
<ul>
<li><code>foo.rs</code> 파일이나 <code>foo/mod.rs</code> 파일을 찾아 이 scope 내의 <code>foo</code> module안에 그 내용물을 삽입</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="인라인-모듈"><a href="https://tourofrust.com/113_ko.html" class="external">인라인 모듈<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#인라인-모듈" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>sub-module</p>
<ul>
<li>module의 코드 내에 직접 치환(inline)됨</li>
</ul>
</li>
<li>
<p>inline module의 가장 흔한 용도</p>
<ul>
<li>단위 테스트를 만들 때</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Bash" data-theme="github-dark"><code data-language="Bash" data-theme="github-dark" style="display:grid;"><span data-line><span>// 이 macro는 Rust가 테스트 모드가 아닐 경우</span></span>
<span data-line><span>// 이 inline module을 제거합니다.</span></span>
<span data-line><span>#[cfg(test)]</span></span>
<span data-line><span>mod tests {</span></span>
<span data-line><span>    // 부모 module에 즉시 접근이 가능하지 않다는 데에 주의하세요.</span></span>
<span data-line><span>    // 반드시 명시적으로 써줘야 합니다.</span></span>
<span data-line><span>    use super::*;</span></span>
<span data-line> </span>
<span data-line><span>    ... tests go here ...</span></span>
<span data-line><span>}</span></span></code></pre></figure>
</li>
</ul>
<h2 id="내부-모듈-참조하기"><a href="https://tourofrust.com/114_ko.html" class="external">내부 모듈 참조하기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#내부-모듈-참조하기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><code>use</code> 경로에 사용할 수 있는 몇 가지 키워드
<ul>
<li><code>crate</code> - root module</li>
<li><code>super</code> - 현재 module의 부모 module</li>
<li><code>self</code> - 현재 module</li>
</ul>
</li>
</ul>
<h2 id="내보내기"><a href="https://tourofrust.com/115_ko.html" class="external">내보내기<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#내보내기" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><code>pub</code> 키워드
<ul>
<li>사용하면 module의 구성원들을 접근 가능하게 할 수 있음</li>
</ul>
</li>
<li>기본적으로 _module_의 구성원들은 외부에서 접근이 불가능
<ul>
<li>그 자식 module도 접근 불가</li>
</ul>
</li>
<li>기본적으로 _crate_의 구성원들도 외부에서 접근이 불가능
<ul>
<li>crate의 <em>root module</em> (<code>lib.rs</code> 또는 <code>main.rs</code>)</li>
<li><code>pub</code>을 표시하면 구성원들을 접근 가능하게 할 수 있음</li>
</ul>
</li>
</ul>
<h2 id="구조체-가시성"><a href="https://tourofrust.com/116_ko.html" class="external">구조체 가시성<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#구조체-가시성" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>함수와 마찬가지로, structure도 module 외부로 무엇을 노출할 지를 <code>pub</code>을 사용해 선언할 수 있음</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Bash" data-theme="github-dark"><code data-language="Bash" data-theme="github-dark" style="display:grid;"><span data-line><span>// SeaCreature struct는 우리 module 외부에서도 사용 가능합니다</span></span>
<span data-line><span>pub struct SeaCreature {</span></span>
<span data-line><span>    pub animal_type: String,</span></span>
<span data-line><span>    pub name: String,</span></span>
<span data-line><span>    pub arms: i32,</span></span>
<span data-line><span>    pub legs: i32,</span></span>
<span data-line><span>    // 우리의 무기는 비밀로 남겨둡시다</span></span>
<span data-line><span>    weapon: String,</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<h2 id="전주곡-prelude"><a href="https://tourofrust.com/117_ko.html" class="external">전주곡 (Prelude)<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#전주곡-prelude" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><code>prelude</code> module
<ul>
<li><code>use</code>로 가져오지도 않았는데 어떻게 어디서나 <code>Vec</code>나 <code>Box</code>를 쓸 수 있는 이유</li>
<li>Rust의 standard library에서는 <code>std::prelude::*</code>로 내보내기 된 모든 것들이 어디에서든 자동으로 사용 가능
<ul>
<li><code>Vec</code>와 <code>Box</code>가 바로 이런 경우이며, 다른 것들(Option, Copy, 기타 등등)도 마찬가지</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="여러분만의-prelude"><a href="https://tourofrust.com/118_ko.html" class="external">여러분만의 Prelude<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#여러분만의-prelude" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>standard library의 prelude로 인해, 흔히들 library마다 고유의 prelude module을 만듬
<ul>
<li>library 사용을 위해 필요한 가장 흔한 데이터 구조들을 모두 가져오는 시작점으로 사용
<ul>
<li>예: <code>use my_library::prelude::*</code></li>
</ul>
</li>
<li>standard library와 달리 프로그램이나 library에서 자동으로 쓸 수 있는 것은 아니지만, library 사용자들이 어디서부터 시작할지 도움을 줄 좋은 습관</li>
</ul>
</li>
</ul>
<h2 id="9장---마무리"><a href="https://tourofrust.com/119_ko.html" class="external">9장 - 마무리<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#9장---마무리" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>참고하면 좋은 자료 : rust 사용 시 가이드라인
<ul>
<li>
<p><a href="https://rust-lang.github.io/api-guidelines/" class="external">https://rust-lang.github.io/api-guidelines/<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
</li>
</ul>
</li>
</ul>
<h1 id="toy-project">Toy Project<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#toy-project" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<ul>
<li>Rust Backend를 사용한 inference server (Image Denoising)
<ul>
<li>Image input → Pre Processing → GPU Inference → Post Processing → image output
<ul>
<li>GPU Inference : ONNX Runtime - TensorRT</li>
<li>할 수 있는 만큼 최적화, 그리고 속도 check</li>
</ul>
</li>
<li>Actix
<ul>
<li><a href="https://actix.rs/" class="external">https://actix.rs/<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
</ul>
</li>
<li>Rust OpenCV
<ul>
<li><a href="https://www.google.com/search?q=rust+opencv&amp;rlz=1C5GCEM_enKR1054KR1054&amp;oq=rust+opencv&amp;gs_lcrp=EgZjaHJvbWUyBggAEEUYOdIBCDQ2MzNqMGo3qAIAsAIA&amp;sourceid=chrome&amp;ie=UTF-8" class="external">https://www.google.com/search?q=rust+opencv&amp;rlz=1C5GCEM_enKR1054KR1054&amp;oq=rust+opencv&amp;gs_lcrp=EgZjaHJvbWUyBggAEEUYOdIBCDQ2MzNqMGo3qAIAsAIA&amp;sourceid=chrome&amp;ie=UTF-8<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
</ul>
</li>
<li>Rust ONNX Runtime
<ul>
<li><a href="https://docs.rs/onnxruntime/latest/onnxruntime/" class="external">https://docs.rs/onnxruntime/latest/onnxruntime/<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li>cuda 가능 할 것인가</li>
</ul>
</li>
<li>위 구현 완료 후, 여유가 된다면 +@ 계획 및 진행</li>
</ul>
</li>
</ul>
<h1 id="추가-자료-조사---smart-pointer">추가 자료 조사 - Smart Pointer<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#추가-자료-조사---smart-pointer" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<p>c/c++의 포인터처럼 작동하지만 추가적인 메타 데이터와 기능들을 가지고 있는 “데이터 구조”</p>
<p>스마트 포인터를 사용하여 구현한 대표적인 자료형</p>
<ul>
<li>
<p>String</p>
</li>
<li>
<p>Vec<t></t></p>
</li>
</ul>
<p>Rust의 스마트 포인터는 Rust의 소유권 시스템의 기본 요소이며 메모리를 효율적으로 관리하는 데 사용 됨</p>
<ul>
<li>
<p>스마트 포인터는 변수의 수명을 관리하는 데 사용되는 데이터 유형</p>
</li>
<li>
<p>데이터가 더 이상 필요하지 않을 때 자동으로 메모리를 해제</p>
</li>
<li>
<p>복잡한 메모리 상황을 관리하고 널 포인터 참조와 메모리 누수와 같은 일반적인 버그를 방지하는 데 유용</p>
</li>
</ul>
<p>Rust의 세 가지 내장 스마트 포인터 유형</p>
<ul>
<li>
<p>Box<t></t></p>
<ul>
<li>소유권 및 힙에 대한 할당을 제공, 힙에 메모리를 할당하고 거기에 값을 저장하는 데 사용</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Rust" data-theme="github-dark"><code data-language="Rust" data-theme="github-dark" style="display:grid;"><span data-line><span>fn main() {</span></span>
<span data-line><span>		// i32형 데이터를 힙에 할당! 스택에는 이 힙 메모리에 대한 주소 값이 할당 됨</span></span>
<span data-line><span>    let b = Box::new(5);</span></span>
<span data-line><span>    println!(&quot;b = {}&quot;, b); // 주의깊게 볼 점 : 'b'는 i32 type이 아닌 Box형 type</span></span>
<span data-line><span>}</span></span></code></pre></figure>
</li>
<li>
<p>Rc<t></t></p>
<ul>
<li>동일한 값에 대한 여러 소유자를 허용, 코드의 여러 부분 간에 값 소유권을 공유 하려는 경우 사용</li>
</ul>
</li>
<li>
<p>RefCell<t></t></p>
<ul>
<li>
<p>내부 가변성을 제공하여 그렇지 않은 경우 값의 가변 대여를 허용</p>
</li>
</ul>
</li>
</ul>
<p>참조자와 스마트 포인터 간의 추가적인 차이점은?</p>
<ul>
<li>
<p>참조자 : 데이터를 오직 빌리기만 하는 포인터</p>
</li>
<li>
<p>스마트 포인터 : (많은 경우)그들이 가리키고 있는 데이터를 <em>소유</em></p>
</li>
</ul>
<p>스마트 포인터의 구현</p>
<ul>
<li>
<p><code>Deref</code>와 <code>Drop</code> 트레잇을 구현</p>
</li>
<li>
<p>Deref</p>
<ul>
<li>
<p>스마트 포인터 구조체의 인스턴스가 참조자처럼 동작하도록 하여 참조자나 스마트 포인터 둘 중 하나와 함께 작동하는 코드를 작성하게 해 줌</p>
</li>
<li>
<p>우리가 (곱하기 혹은 글롭 연산자와는 반대 측에 있는) <em>역참조 연산자 (dereference operator)</em> <code>*</code> 의 동작을 커스터마이징 하는 것을 허용</p>
</li>
<li>
<p>기존 역참조 vs Deref</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Rust" data-theme="github-dark"><code data-language="Rust" data-theme="github-dark" style="display:grid;"><span data-line><span>// 기본적인 역참조 예시</span></span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let x = 5;</span></span>
<span data-line><span>    let y = &amp;x;</span></span>
<span data-line> </span>
<span data-line><span>    assert_eq!(5, *y);</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>// Box로 힙에 할당한 데이터에 대한 역참조 예시</span></span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let x = 5;</span></span>
<span data-line><span>    let y = Box::new(x);</span></span>
<span data-line> </span>
<span data-line><span>    assert_eq!(5, x);</span></span>
<span data-line><span>    assert_eq!(5, *y);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
</li>
<li>
<p>예시로 이해해보기</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Rust" data-theme="github-dark"><code data-language="Rust" data-theme="github-dark" style="display:grid;"><span data-line><span>// Box와 유사한 trait 구현</span></span>
<span data-line><span>use std::ops::Deref;</span></span>
<span data-line><span>struct MyBox&lt;T>(T);</span></span>
<span data-line> </span>
<span data-line><span>// new 메서드 구현</span></span>
<span data-line><span>impl&lt;T> MyBox&lt;T> {</span></span>
<span data-line><span>    fn new(x: T) -> MyBox&lt;T> {</span></span>
<span data-line><span>        MyBox(x)</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>// deref 메서드 구현</span></span>
<span data-line><span>impl&lt;T> Deref for MyBox&lt;T> {</span></span>
<span data-line><span>    type Target = T;</span></span>
<span data-line> </span>
<span data-line><span>    fn deref(&amp;self) -> &amp;T {</span></span>
<span data-line><span>				// MyBox 타입은 T 타입의 하나의 요소를 가진 튜플 구조체</span></span>
<span data-line><span>				// 아래 코드를 통해 자신이 가지고 있는 데이터를 리턴</span></span>
<span data-line><span>        &amp;self.0</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let x = 5;</span></span>
<span data-line><span>    let y = MyBox::new(x);</span></span>
<span data-line> </span>
<span data-line><span>    assert_eq!(5, x);</span></span>
<span data-line><span>		// 위에서 Deref를 구현했으므로 러스트는 실제로 &quot;*(y.deref())&quot;를 실행해 줌</span></span>
<span data-line><span>    assert_eq!(5, *y);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
</li>
</ul>
</li>
<li>
<p>Drop</p>
<ul>
<li>
<p>스마트 포인터의 인스턴스가 스코프 밖으로 벗어 났을 때 실행되는 코드를 커스터마이징 가능하도록 해 줌</p>
</li>
<li>
<p>특정한 코드는 파일이나 네트워크 연결 같은 자원을 해제하는 데에 사용될 수 있음. 일종의 Dispose</p>
</li>
<li>
<p>예시로 이해하기</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Rust" data-theme="github-dark"><code data-language="Rust" data-theme="github-dark" style="display:grid;"><span data-line><span>// 인스턴스가 스코프 밖으로 벗어났을 때 Dropping CustomSmartPointer!를 출력</span></span>
<span data-line><span>// 하는 커스텀 기능만을 갖춘 CustomSmartPointer 구조체</span></span>
<span data-line> </span>
<span data-line><span>// 구조 정의</span></span>
<span data-line><span>struct CustomSmartPointer {</span></span>
<span data-line><span>    data: String,</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>// Drop 구현</span></span>
<span data-line><span>impl Drop for CustomSmartPointer {</span></span>
<span data-line><span>    fn drop(&amp;mut self) {</span></span>
<span data-line><span>        println!(&quot;Dropping CustomSmartPointer with data `{}`!&quot;, self.data);</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>fn main() {</span></span>
<span data-line><span>    let c = CustomSmartPointer { data: String::from(&quot;my stuff&quot;) };</span></span>
<span data-line><span>    let d = CustomSmartPointer { data: String::from(&quot;other stuff&quot;) };</span></span>
<span data-line><span>    println!(&quot;CustomSmartPointers created.&quot;);</span></span>
<span data-line><span>}</span></span></code></pre></figure>
<p>변수들은 만들어진 순서의 역순으로 버려지므로<br/>
출력 →<br/>
CustomSmartPointers created.<br/>
Dropping CustomSmartPointer with data<br/>
<code>other stuff</code>!<br/>
Dropping CustomSmartPointer with data<br/>
<code>my stuff</code>!</p>
</li>
<li>
<p>주의할 점</p>
<ul>
<li>
<p>Drop은 Rust상에서 자동적으로 호출되는 메서드이므로, 우리가 직접 호출 할 수 없음</p>
<p>error[E0040]: explicit use of destructor method<br/>
<span>⇒</span> src/main.rs:14:7<br/>
|<br/>
14 | c.drop();<br/>
| ^^^^ explicit destructor calls not allowed</p>
</li>
<li>
<p>만약 직접 호출할 필요가 있다면 std::mem::drop을 가져와서 구현해야 함</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>참조</p>
<blockquote>
<p><a href="https://rinthel.github.io/rust-lang-book-ko/ch15-00-smart-pointers.html" class="external">https://rinthel.github.io/rust-lang-book-ko/ch15-00-smart-pointers.html<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
</blockquote>
</li>
</ul></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div class="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false,&quot;enableRadial&quot;:false}"></div><button class="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div class="global-graph-outer"><div class="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.2,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true,&quot;enableRadial&quot;:true}"></div></div></div><div class="toc desktop-only"><button type="button" class="toc-header" aria-controls="toc-content" aria-expanded="true"><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><ul class="toc-content overflow" id="list-1"><li class="depth-2"><a href="#스터디-멤버" data-for="스터디-멤버">스터디 멤버</a></li><li class="depth-1"><a href="#참조" data-for="참조">참조</a></li><li class="depth-0"><a href="#1장---기초" data-for="1장---기초">1장 - 기초</a></li><li class="depth-1"><a href="#rust-놀이터" data-for="rust-놀이터">Rust 놀이터</a></li><li class="depth-1"><a href="#변수" data-for="변수">변수</a></li><li class="depth-1"><a href="#변수의-값-변경하기" data-for="변수의-값-변경하기">변수의 값 변경하기</a></li><li class="depth-1"><a href="#기본-자료형" data-for="기본-자료형">기본 자료형</a></li><li class="depth-1"><a href="#기본-자료형-변환" data-for="기본-자료형-변환">기본 자료형 변환</a></li><li class="depth-1"><a href="#상수" data-for="상수">상수</a></li><li class="depth-1"><a href="#배열" data-for="배열">배열</a></li><li class="depth-1"><a href="#함수" data-for="함수">함수</a></li><li class="depth-1"><a href="#여러개의-리턴-값" data-for="여러개의-리턴-값">여러개의 리턴 값</a></li><li class="depth-1"><a href="#아무것도-리턴하지-않기" data-for="아무것도-리턴하지-않기">아무것도 리턴하지 않기</a></li><li class="depth-0"><a href="#2장---기초적인-흐름-제어" data-for="2장---기초적인-흐름-제어">2장 - 기초적인 흐름 제어</a></li><li class="depth-1"><a href="#ifelse-ifelse" data-for="ifelse-ifelse">if/else if/else</a></li><li class="depth-1"><a href="#loop" data-for="loop">loop</a></li><li class="depth-1"><a href="#while" data-for="while">while</a></li><li class="depth-1"><a href="#for" data-for="for">for</a></li><li class="depth-1"><a href="#match" data-for="match">match</a></li><li class="depth-1"><a href="#loop에서-값-리턴하기" data-for="loop에서-값-리턴하기">loop에서 값 리턴하기</a></li><li class="depth-1"><a href="#블록-표현에서-값-리턴하기" data-for="블록-표현에서-값-리턴하기">블록 표현에서 값 리턴하기</a></li><li class="depth-1"><a href="#2장---마무리" data-for="2장---마무리">2장 - 마무리</a></li><li class="depth-0"><a href="#3장---기본-데이터-구조-자료형" data-for="3장---기본-데이터-구조-자료형">3장 - 기본 데이터 구조 자료형</a></li><li class="depth-1"><a href="#구조체" data-for="구조체">구조체</a></li><li class="depth-1"><a href="#메소드-호출하기" data-for="메소드-호출하기">메소드 호출하기</a></li><li class="depth-1"><a href="#메모리" data-for="메모리">메모리</a></li><li class="depth-1"><a href="#메모리에-데이터-생성하기" data-for="메모리에-데이터-생성하기">메모리에 데이터 생성하기</a></li><li class="depth-1"><a href="#tuple-같은-구조체" data-for="tuple-같은-구조체">Tuple 같은 구조체</a></li><li class="depth-1"><a href="#unit-같은-구조체" data-for="unit-같은-구조체">Unit 같은 구조체</a></li><li class="depth-1"><a href="#열거형" data-for="열거형">열거형</a></li><li class="depth-1"><a href="#열거형과-데이터" data-for="열거형과-데이터">열거형과 데이터</a></li><li class="depth-1"><a href="#3장---마무리" data-for="3장---마무리">3장 - 마무리</a></li><li class="depth-0"><a href="#4장---generic-자료형" data-for="4장---generic-자료형">4장 - Generic 자료형</a></li><li class="depth-1"><a href="#generic-자료형이란" data-for="generic-자료형이란">Generic 자료형이란?</a></li><li class="depth-1"><a href="#아무-것도-없는-것을-표현하기--옵션" data-for="아무-것도-없는-것을-표현하기--옵션">아무 것도 없는 것을 표현하기 &amp; 옵션</a></li><li class="depth-1"><a href="#결과" data-for="결과">결과</a></li><li class="depth-1"><a href="#실패할-수-있는-메인" data-for="실패할-수-있는-메인">실패할 수 있는 메인</a></li><li class="depth-1"><a href="#우아한-오류-처리" data-for="우아한-오류-처리">우아한 오류 처리</a></li><li class="depth-1"><a href="#추한-옵션결과-처리" data-for="추한-옵션결과-처리">추한 옵션/결과 처리</a></li><li class="depth-1"><a href="#벡터" data-for="벡터">벡터</a></li><li class="depth-1"><a href="#4장---마무리" data-for="4장---마무리">4장 - 마무리</a></li><li class="depth-0"><a href="#5장---소유권과-데이터-대여" data-for="5장---소유권과-데이터-대여">5장 - 소유권과 데이터 대여</a></li><li class="depth-1"><a href="#소유권" data-for="소유권">소유권</a></li><li class="depth-1"><a href="#범위-기반-리소스-관리" data-for="범위-기반-리소스-관리">범위 기반 리소스 관리</a></li><li class="depth-1"><a href="#dropping은-계층적이다" data-for="dropping은-계층적이다">Dropping은 계층적이다</a></li><li class="depth-1"><a href="#소유권-이전" data-for="소유권-이전">소유권 이전</a></li><li class="depth-1"><a href="#소유권-리턴하기" data-for="소유권-리턴하기">소유권 리턴하기</a></li><li class="depth-1"><a href="#참조로-소유권-대여하기" data-for="참조로-소유권-대여하기">참조로 소유권 대여하기</a></li><li class="depth-1"><a href="#참조로-변경-가능한-소유권-대여하기" data-for="참조로-변경-가능한-소유권-대여하기">참조로 변경 가능한 소유권 대여하기</a></li><li class="depth-1"><a href="#역참조" data-for="역참조">역참조</a></li><li class="depth-1"><a href="#대여한-데이터-전달하기" data-for="대여한-데이터-전달하기">대여한 데이터 전달하기</a></li><li class="depth-1"><a href="#참조의-참조" data-for="참조의-참조">참조의 참조</a></li><li class="depth-1"><a href="#명시적인-생명주기" data-for="명시적인-생명주기">명시적인 생명주기</a></li><li class="depth-1"><a href="#여러-개의-생명주기" data-for="여러-개의-생명주기">여러 개의 생명주기</a></li><li class="depth-1"><a href="#정적인-생명주기" data-for="정적인-생명주기">정적인 생명주기</a></li><li class="depth-1"><a href="#데이터-자료형의-생명주기" data-for="데이터-자료형의-생명주기">데이터 자료형의 생명주기</a></li><li class="depth-1"><a href="#5장---마무리" data-for="5장---마무리">5장 - 마무리</a></li><li class="depth-0"><a href="#6장---텍스트" data-for="6장---텍스트">6장 - 텍스트</a></li><li class="depth-1"><a href="#문자열" data-for="문자열">문자열</a></li><li class="depth-1"><a href="#utf-8이란-무엇인가" data-for="utf-8이란-무엇인가">utf-8이란 무엇인가</a></li><li class="depth-1"><a href="#예외처리문자" data-for="예외처리문자">예외처리문자</a></li><li class="depth-1"><a href="#여러-줄로-된-문자열" data-for="여러-줄로-된-문자열">여러 줄로 된 문자열</a></li><li class="depth-1"><a href="#원시-문자열" data-for="원시-문자열">원시 문자열</a></li><li class="depth-1"><a href="#파일에서-문자열-가져오기" data-for="파일에서-문자열-가져오기">파일에서 문자열 가져오기</a></li><li class="depth-1"><a href="#문자열-슬라이스" data-for="문자열-슬라이스">문자열 슬라이스</a></li><li class="depth-1"><a href="#문자" data-for="문자">문자</a></li><li class="depth-1"><a href="#스트링" data-for="스트링">스트링</a></li><li class="depth-1"><a href="#함수의-매개변수로서의-텍스트" data-for="함수의-매개변수로서의-텍스트">함수의 매개변수로서의 텍스트</a></li><li class="depth-1"><a href="#스트링-만들기" data-for="스트링-만들기">스트링 만들기</a></li><li class="depth-1"><a href="#스트링-양식-만들기" data-for="스트링-양식-만들기">스트링 양식 만들기</a></li><li class="depth-1"><a href="#스트링-변환" data-for="스트링-변환">스트링 변환</a></li><li class="depth-1"><a href="#6장---마무리" data-for="6장---마무리">6장 - 마무리</a></li><li class="depth-0"><a href="#7장---객체-지향-프로그래밍" data-for="7장---객체-지향-프로그래밍">7장 - 객체 지향 프로그래밍</a></li><li class="depth-1"><a href="#oop란-무엇인가" data-for="oop란-무엇인가">OOP란 무엇인가?</a></li><li class="depth-1"><a href="#rust는-oop가-아니다" data-for="rust는-oop가-아니다">Rust는 OOP가 아니다</a></li><li class="depth-1"><a href="#메소드-캡슐화-하기" data-for="메소드-캡슐화-하기">메소드 캡슐화 하기</a></li><li class="depth-1"><a href="#선택적-노출을-통한-추상화" data-for="선택적-노출을-통한-추상화">선택적 노출을 통한 추상화</a></li><li class="depth-1"><a href="#다형성과-trait" data-for="다형성과-trait">다형성과 Trait</a></li><li class="depth-1"><a href="#trait에-구현된-메소드" data-for="trait에-구현된-메소드">Trait에 구현된 메소드</a></li><li class="depth-1"><a href="#trait-상속" data-for="trait-상속">Trait 상속</a></li><li class="depth-1"><a href="#동적-vs-정적-디스패치" data-for="동적-vs-정적-디스패치">동적 vs 정적 디스패치</a></li><li class="depth-1"><a href="#trait-객체" data-for="trait-객체">Trait 객체</a></li><li class="depth-1"><a href="#크기를-알-수-없는-데이터-다루기" data-for="크기를-알-수-없는-데이터-다루기">크기를 알 수 없는 데이터 다루기</a></li><li class="depth-1"><a href="#generic-함수" data-for="generic-함수">Generic 함수</a></li><li class="depth-1"><a href="#generic-함수-줄여쓰기" data-for="generic-함수-줄여쓰기">Generic 함수 줄여쓰기</a></li><li class="depth-1"><a href="#box" data-for="box">Box</a></li><li class="depth-1"><a href="#generic-구조체-다시-보기" data-for="generic-구조체-다시-보기">Generic 구조체 다시 보기</a></li><li class="depth-1"><a href="#7장---마무리" data-for="7장---마무리">7장 - 마무리</a></li><li class="depth-0"><a href="#8장---스마트-포인터" data-for="8장---스마트-포인터">8장 - 스마트 포인터</a></li><li class="depth-1"><a href="#참조-다시-보기" data-for="참조-다시-보기">참조 다시 보기</a></li><li class="depth-1"><a href="#원시-포인터" data-for="원시-포인터">원시 포인터</a></li><li class="depth-1"><a href="#역참조-1" data-for="역참조-1">역참조</a></li><li class="depth-1"><a href="#-연산자" data-for="-연산자">* 연산자</a></li><li class="depth-1"><a href="#-연산자-1" data-for="-연산자-1">. 연산자</a></li><li class="depth-1"><a href="#스마트-포인터" data-for="스마트-포인터">스마트 포인터</a></li><li class="depth-1"><a href="#위험한-스마트-코드" data-for="위험한-스마트-코드">위험한 스마트 코드</a></li><li class="depth-1"><a href="#익숙한-친구들" data-for="익숙한-친구들">익숙한 친구들</a></li><li class="depth-1"><a href="#힙에-할당된-메모리" data-for="힙에-할당된-메모리">힙에 할당된 메모리</a></li><li class="depth-1"><a href="#실패할-수-있는-메인-다시-보기" data-for="실패할-수-있는-메인-다시-보기">실패할 수 있는 메인 다시 보기</a></li><li class="depth-1"><a href="#참조-카운팅" data-for="참조-카운팅">참조 카운팅</a></li><li class="depth-1"><a href="#접근-공유하기" data-for="접근-공유하기">접근 공유하기</a></li><li class="depth-1"><a href="#쓰레드-간에-공유하기" data-for="쓰레드-간에-공유하기">쓰레드 간에 공유하기</a></li><li class="depth-1"><a href="#스마트-포인터-조합하기" data-for="스마트-포인터-조합하기">스마트 포인터 조합하기</a></li><li class="depth-1"><a href="#8장---마무리" data-for="8장---마무리">8장 - 마무리</a></li><li class="depth-0"><a href="#9장---프로젝트-구성과-구조" data-for="9장---프로젝트-구성과-구조">9장 - 프로젝트 구성과 구조</a></li><li class="depth-1"><a href="#모듈" data-for="모듈">모듈</a></li><li class="depth-1"><a href="#프로그램-작성하기" data-for="프로그램-작성하기">프로그램 작성하기</a></li><li class="depth-1"><a href="#라이브러리-작성하기" data-for="라이브러리-작성하기">라이브러리 작성하기</a></li><li class="depth-1"><a href="#다른-모듈과-크레이트-참조하기" data-for="다른-모듈과-크레이트-참조하기">다른 모듈과 크레이트 참조하기</a></li><li class="depth-1"><a href="#여러-개의-항목을-참조하기" data-for="여러-개의-항목을-참조하기">여러 개의 항목을 참조하기</a></li><li class="depth-1"><a href="#모듈-작성하기" data-for="모듈-작성하기">모듈 작성하기</a></li><li class="depth-1"><a href="#모듈-계층구조" data-for="모듈-계층구조">모듈 계층구조</a></li><li class="depth-1"><a href="#인라인-모듈" data-for="인라인-모듈">인라인 모듈</a></li><li class="depth-1"><a href="#내부-모듈-참조하기" data-for="내부-모듈-참조하기">내부 모듈 참조하기</a></li><li class="depth-1"><a href="#내보내기" data-for="내보내기">내보내기</a></li><li class="depth-1"><a href="#구조체-가시성" data-for="구조체-가시성">구조체 가시성</a></li><li class="depth-1"><a href="#전주곡-prelude" data-for="전주곡-prelude">전주곡 (Prelude)</a></li><li class="depth-1"><a href="#여러분만의-prelude" data-for="여러분만의-prelude">여러분만의 Prelude</a></li><li class="depth-1"><a href="#9장---마무리" data-for="9장---마무리">9장 - 마무리</a></li><li class="depth-0"><a href="#toy-project" data-for="toy-project">Toy Project</a></li><li class="depth-0"><a href="#추가-자료-조사---smart-pointer" data-for="추가-자료-조사---smart-pointer">추가 자료 조사 - Smart Pointer</a></li><li class="overflow-end"></li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.5.1</a> © 2025</p><ul><li><a href="https://github.com/404Vector">GitHub</a></li></ul></footer></div></div></body><script type="application/javascript">function n(){let t=this.parentElement;t.classList.toggle("is-collapsed");let e=t.getElementsByClassName("callout-content")[0];if(!e)return;let l=t.classList.contains("is-collapsed");e.style.gridTemplateRows=l?"0fr":"1fr"}function c(){let t=document.getElementsByClassName("callout is-collapsible");for(let e of t){let l=e.getElementsByClassName("callout-title")[0],s=e.getElementsByClassName("callout-content")[0];if(!l||!s)continue;l.addEventListener("click",n),window.addCleanup(()=>l.removeEventListener("click",n));let o=e.classList.contains("is-collapsed");s.style.gridTemplateRows=o?"0fr":"1fr"}}document.addEventListener("nav",c);
</script><script type="module">function f(i,e){if(!i)return;function r(o){o.target===this&&(o.preventDefault(),o.stopPropagation(),e())}function t(o){o.key.startsWith("Esc")&&(o.preventDefault(),e())}i?.addEventListener("click",r),window.addCleanup(()=>i?.removeEventListener("click",r)),document.addEventListener("keydown",t),window.addCleanup(()=>document.removeEventListener("keydown",t))}function y(i){for(;i.firstChild;)i.removeChild(i.firstChild)}var h=class{constructor(e,r){this.container=e;this.content=r;this.setupEventListeners(),this.setupNavigationControls(),this.resetTransform()}isDragging=!1;startPan={x:0,y:0};currentPan={x:0,y:0};scale=1;MIN_SCALE=.5;MAX_SCALE=3;cleanups=[];setupEventListeners(){let e=this.onMouseDown.bind(this),r=this.onMouseMove.bind(this),t=this.onMouseUp.bind(this),o=this.resetTransform.bind(this);this.container.addEventListener("mousedown",e),document.addEventListener("mousemove",r),document.addEventListener("mouseup",t),window.addEventListener("resize",o),this.cleanups.push(()=>this.container.removeEventListener("mousedown",e),()=>document.removeEventListener("mousemove",r),()=>document.removeEventListener("mouseup",t),()=>window.removeEventListener("resize",o))}cleanup(){for(let e of this.cleanups)e()}setupNavigationControls(){let e=document.createElement("div");e.className="mermaid-controls";let r=this.createButton("+",()=>this.zoom(.1)),t=this.createButton("-",()=>this.zoom(-.1)),o=this.createButton("Reset",()=>this.resetTransform());e.appendChild(t),e.appendChild(o),e.appendChild(r),this.container.appendChild(e)}createButton(e,r){let t=document.createElement("button");return t.textContent=e,t.className="mermaid-control-button",t.addEventListener("click",r),window.addCleanup(()=>t.removeEventListener("click",r)),t}onMouseDown(e){e.button===0&&(this.isDragging=!0,this.startPan={x:e.clientX-this.currentPan.x,y:e.clientY-this.currentPan.y},this.container.style.cursor="grabbing")}onMouseMove(e){this.isDragging&&(e.preventDefault(),this.currentPan={x:e.clientX-this.startPan.x,y:e.clientY-this.startPan.y},this.updateTransform())}onMouseUp(){this.isDragging=!1,this.container.style.cursor="grab"}zoom(e){let r=Math.min(Math.max(this.scale+e,this.MIN_SCALE),this.MAX_SCALE),t=this.content.getBoundingClientRect(),o=t.width/2,n=t.height/2,c=r-this.scale;this.currentPan.x-=o*c,this.currentPan.y-=n*c,this.scale=r,this.updateTransform()}updateTransform(){this.content.style.transform=`translate(${this.currentPan.x}px, ${this.currentPan.y}px) scale(${this.scale})`}resetTransform(){this.scale=1;let e=this.content.querySelector("svg");this.currentPan={x:e.getBoundingClientRect().width/2,y:e.getBoundingClientRect().height/2},this.updateTransform()}},C=["--secondary","--tertiary","--gray","--light","--lightgray","--highlight","--dark","--darkgray","--codeFont"],E;document.addEventListener("nav",async()=>{let e=document.querySelector(".center").querySelectorAll("code.mermaid");if(e.length===0)return;E||=await import("https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.4.0/mermaid.esm.min.mjs");let r=E.default,t=new WeakMap;for(let n of e)t.set(n,n.innerText);async function o(){for(let s of e){s.removeAttribute("data-processed");let a=t.get(s);a&&(s.innerHTML=a)}let n=C.reduce((s,a)=>(s[a]=window.getComputedStyle(document.documentElement).getPropertyValue(a),s),{}),c=document.documentElement.getAttribute("saved-theme")==="dark";r.initialize({startOnLoad:!1,securityLevel:"loose",theme:c?"dark":"base",themeVariables:{fontFamily:n["--codeFont"],primaryColor:n["--light"],primaryTextColor:n["--darkgray"],primaryBorderColor:n["--tertiary"],lineColor:n["--darkgray"],secondaryColor:n["--secondary"],tertiaryColor:n["--tertiary"],clusterBkg:n["--light"],edgeLabelBackground:n["--highlight"]}}),await r.run({nodes:e})}await o(),document.addEventListener("themechange",o),window.addCleanup(()=>document.removeEventListener("themechange",o));for(let n=0;n<e.length;n++){let v=function(){let g=l.querySelector("#mermaid-space"),m=l.querySelector(".mermaid-content");if(!m)return;y(m);let w=c.querySelector("svg").cloneNode(!0);m.appendChild(w),l.classList.add("active"),g.style.cursor="grab",u=new h(g,m)},M=function(){l.classList.remove("active"),u?.cleanup(),u=null},c=e[n],s=c.parentElement,a=s.querySelector(".clipboard-button"),d=s.querySelector(".expand-button"),p=window.getComputedStyle(a),L=a.offsetWidth+parseFloat(p.marginLeft||"0")+parseFloat(p.marginRight||"0");d.style.right=`calc(${L}px + 0.3rem)`,s.prepend(d);let l=s.querySelector("#mermaid-container");if(!l)return;let u=null;d.addEventListener("click",v),f(l,M),window.addCleanup(()=>{u?.cleanup(),d.removeEventListener("click",v)})}});
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="../postscript.js" type="module"></script></html>